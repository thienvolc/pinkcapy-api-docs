type: object
description: 'Transaction of an order, representing payment or refund activities.'
allOf:
  - $ref: '../../shared.yaml#/components/schemas/AuditFields'
  - type: object
    properties:
      id:
        type: integer
        description: 'Transaction ID'
        example: 5001
      order_id:
        type: integer
        description: 'Related order ID'
        example: 1001
      amount:
        type: number
        format: float
        description: 'Transaction amount'
        example: 13819000.00
      content:
        type: string
        description: 'Content or note of the transaction (e.g., payment or refund description)'
        example: 'Payment for order #1001 via VNPay'
      code:
        type: string
        maxLength: 255
        description: 'Transaction ref (from payment gateway or internal system)'
        example: 'TXN-VNPAY-20251031-0001'
      type:
        type: integer
        enum: [1, 2]
        description: >
          Type of transaction:
          - `1`: Pay action
          - `2`: Refund action
        example: 1
      mode:
        type: string
        maxLength: 150
        description: 'Payment or refund method (e.g., VNPay, MoMo, COD, Bank Transfer)'
        example: 'VNPay'
      status:
        type: integer
        enum: [1, 2, 3, 4, 5, 6]
        description: >
          Transaction status:
          - `1`: Initiated  
          - `2`: Pending payment  
          - `3`: Successful
          - `4`: Failed
          - `5`: Cancelled
          - `6`: Expired
        example: 1
required:
  - id
  - order_id
  - amount
  - type
  - status
