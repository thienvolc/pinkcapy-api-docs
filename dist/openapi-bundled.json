{
  "openapi": "3.1.0",
  "info": {
    "title": "PinkCapy API",
    "version": "1.0.0",
    "description": "API documentation for PinkCapy Retail E-commerce System"
  },
  "servers": [
    {
      "url": "https://pinkcapy.dev/v1",
      "description": "Production server"
    },
    {
      "url": "http://localhost:8000/v1",
      "description": "Local development"
    }
  ],
  "paths": {
    "/products/{id}": {
      "get": {
        "summary": "Get product",
        "description": "Retrieve a product by its ID.",
        "tags": [
          "Product_Public"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID of the product",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/ProductPublic"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/products": {
      "get": {
        "summary": "Search products",
        "description": "Retrieve a list of products based on search criteria.",
        "tags": [
          "Product_Public"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/OffsetParam"
          },
          {
            "$ref": "#/components/parameters/LimitParam"
          },
          {
            "$ref": "#/components/parameters/SortParam"
          },
          {
            "name": "query",
            "in": "query",
            "description": "Search keyword",
            "schema": {
              "type": "string",
              "example": "tai nghe"
            }
          },
          {
            "name": "category",
            "in": "query",
            "description": "Category ID of the products",
            "schema": {
              "type": "integer",
              "example": 3
            }
          },
          {
            "name": "price_min",
            "in": "query",
            "description": "Minimum price of the products",
            "schema": {
              "type": "integer",
              "example": 100000
            }
          },
          {
            "name": "price_max",
            "in": "query",
            "description": "Maximum price of the products",
            "schema": {
              "type": "integer",
              "example": 500000
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "allOf": [
                            {
                              "$ref": "#/components/schemas/InfiniteScroll"
                            },
                            {
                              "type": "object",
                              "properties": {
                                "data": {
                                  "items": {
                                    "$ref": "#/components/schemas/ProductPublic"
                                  }
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/admin/products/{id}": {
      "get": {
        "summary": "Get product for admin",
        "description": "Retrieve a product by its ID for admin.",
        "tags": [
          "Product_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID of the product",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "allOf": [
                            {
                              "$ref": "#/components/schemas/Product"
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "put": {
        "summary": "Update a product",
        "description": "Admin to update an existing product in the system.",
        "tags": [
          "Product_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          },
          {
            "$ref": "#/paths/~1admin~1products~1%7Bid%7D/get/parameters/1"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Product"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Product"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "delete": {
        "summary": "Delete a product",
        "description": "Admin to delete an existing product in the system.",
        "tags": [
          "Product_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          },
          {
            "$ref": "#/paths/~1admin~1products~1%7Bid%7D/get/parameters/1"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Product"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/admin/products/{id}/status": {
      "patch": {
        "summary": "Update a product status",
        "description": "Admin to update the status of an existing product in the system.",
        "tags": [
          "Product_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          },
          {
            "$ref": "#/paths/~1admin~1products~1%7Bid%7D/get/parameters/1"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductStatus"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/ProductStatus"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/admin/products": {
      "post": {
        "summary": "Create a product",
        "description": "Admin to add a new product to the system.",
        "tags": [
          "Product_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Product"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Product"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "get": {
        "summary": "Search products for admin",
        "description": "Retrieve a list of products based on search criteria.",
        "tags": [
          "Product_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/PageParam"
          },
          {
            "$ref": "#/components/parameters/SizeParam"
          },
          {
            "$ref": "#/components/parameters/SortParam"
          },
          {
            "name": "query",
            "in": "query",
            "description": "Search keyword",
            "schema": {
              "type": "string",
              "example": "tai nghe"
            }
          },
          {
            "name": "category",
            "in": "query",
            "description": "Category ID of the products",
            "schema": {
              "type": "integer",
              "example": 3
            }
          },
          {
            "name": "price_min",
            "in": "query",
            "description": "Minimum price of the products",
            "schema": {
              "type": "integer",
              "example": 100000
            }
          },
          {
            "name": "price_max",
            "in": "query",
            "description": "Maximum price of the products",
            "schema": {
              "type": "integer",
              "example": 500000
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "allOf": [
                            {
                              "$ref": "#/components/schemas/Pagination"
                            },
                            {
                              "type": "object",
                              "properties": {
                                "data": {
                                  "type": "array",
                                  "items": {
                                    "$ref": "#/components/schemas/Product"
                                  }
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      }
    },
    "/admin/products/{id}/inventories": {
      "patch": {
        "summary": "Update a product stock",
        "description": "Admin to update an stock of existing product in the system.",
        "tags": [
          "Product_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID of the product to update",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductAdjustInventory"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Product"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/categories": {
      "get": {
        "summary": "Search categories",
        "description": "Retrieve a list of categories.",
        "tags": [
          "Category_Public"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/OffsetParam"
          },
          {
            "$ref": "#/components/parameters/LimitParam"
          },
          {
            "$ref": "#/components/parameters/SortParam"
          },
          {
            "name": "query",
            "in": "query",
            "description": "Search keyword",
            "schema": {
              "type": "string",
              "example": "tai nghe"
            }
          },
          {
            "name": "level",
            "in": "query",
            "required": true,
            "description": "Level of categories to retrieve",
            "default": 1,
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "allOf": [
                            {
                              "$ref": "#/components/schemas/InfiniteScroll"
                            },
                            {
                              "type": "object",
                              "properties": {
                                "data": {
                                  "type": "array",
                                  "items": {
                                    "$ref": "#/components/schemas/CategoryPublic"
                                  }
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/admin/categories/{id}": {
      "get": {
        "summary": "Get category for admin",
        "description": "Retrieve a category by its ID for admin.",
        "tags": [
          "Category_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID of the category to retrieve",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Category"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "put": {
        "summary": "Update a category",
        "description": "Admin to update an existing category in the system.",
        "tags": [
          "Category_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          },
          {
            "$ref": "#/paths/~1admin~1categories~1%7Bid%7D/get/parameters/1"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Category"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Category"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "delete": {
        "summary": "Delete a category",
        "description": "Admin to delete an existing category in the system.",
        "tags": [
          "Category_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          },
          {
            "$ref": "#/paths/~1admin~1categories~1%7Bid%7D/get/parameters/1"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Category"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/admin/categories": {
      "post": {
        "summary": "Create a category",
        "description": "Admin to add a new category to the system.",
        "tags": [
          "Category_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Category"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Category"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "get": {
        "summary": "Search categories for admin",
        "description": "Retrieve a list of categories.",
        "tags": [
          "Category_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/PageParam"
          },
          {
            "$ref": "#/components/parameters/SizeParam"
          },
          {
            "$ref": "#/components/parameters/SortParam"
          },
          {
            "name": "query",
            "in": "query",
            "description": "Search keyword",
            "schema": {
              "type": "string",
              "example": "tai nghe"
            }
          },
          {
            "name": "level",
            "in": "query",
            "required": true,
            "description": "Level of categories to retrieve",
            "default": 1,
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "allOf": [
                            {
                              "$ref": "#/components/schemas/Pagination"
                            },
                            {
                              "type": "object",
                              "properties": {
                                "data": {
                                  "type": "array",
                                  "items": {
                                    "$ref": "#/components/schemas/Category"
                                  }
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      }
    },
    "/me/carts": {
      "get": {
        "summary": "Get user cart",
        "description": "Retrieve the user's cart.",
        "tags": [
          "Cart"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Cart"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          }
        }
      }
    },
    "/me/carts/items": {
      "post": {
        "summary": "Add item to cart",
        "description": "Add a new item to the user's cart.",
        "tags": [
          "Cart"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddCartItem"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/CartItem"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          }
        }
      }
    },
    "/me/carts/items/{id}": {
      "patch": {
        "summary": "Update a cart item",
        "description": "Update an existing item in the user's cart.",
        "tags": [
          "Cart"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID of the cart item to update",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCartItemQuantity"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/CartItem"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "delete": {
        "summary": "Delete a cart item",
        "description": "User to delete an existing cart item in user's cart.",
        "tags": [
          "Cart"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID of the cart item to delete",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/CartItem"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/me/carts/clear": {
      "delete": {
        "summary": "Clear all cart items in user's cart",
        "description": "User to clear all cart items in user's cart.",
        "tags": [
          "Cart"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/EmptyCart"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/me/orders": {
      "get": {
        "summary": "Get user orders history",
        "description": "Retrieve a list of the user's past orders.",
        "tags": [
          "Order"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "name": "status",
            "in": "query",
            "optional": true,
            "description": "Filter orders by their status",
            "schema": {
              "type": "integer",
              "enum": [
                1,
                2,
                3,
                4,
                5,
                6,
                7,
                8
              ]
            },
            "example": 3
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "allOf": [
                            {
                              "$ref": "#/components/schemas/InfiniteScroll"
                            },
                            {
                              "type": "object",
                              "properties": {
                                "data": {
                                  "items": {
                                    "$ref": "#/components/schemas/ShortOrder"
                                  }
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          }
        }
      },
      "post": {
        "summary": "Create a order",
        "description": "Create a new order.",
        "tags": [
          "Order"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateOrder"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Order"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          }
        }
      }
    },
    "/me/orders/{id}": {
      "get": {
        "summary": "Get order details",
        "description": "Retrieve the details of a specific order.",
        "tags": [
          "Order"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Order"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/me/orders/{id}/status": {
      "get": {
        "summary": "Get the status of a specific order",
        "description": "Retrieve the current status of a specific order.",
        "tags": [
          "Order"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID of the order to retrieve status for",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Order"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/me/orders/{id}/delivery": {
      "patch": {
        "summary": "Update a order delivery information",
        "description": "Update delivery information for a specific order.",
        "tags": [
          "Order"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID of the order to update",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OrderDelivery"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Order"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/me/orders/{id}/cancel": {
      "delete": {
        "summary": "Cancel an order",
        "description": "User to cancel an existing order.",
        "tags": [
          "Order"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID of the order to cancel",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/OrderStatus"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/admin/orders": {
      "get": {
        "summary": "Search user orders for admin",
        "description": "Retrieve a list of the user's past orders.",
        "tags": [
          "Order_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/PageParam"
          },
          {
            "$ref": "#/components/parameters/SizeParam"
          },
          {
            "$ref": "#/components/parameters/SortParam"
          },
          {
            "name": "query",
            "in": "query",
            "description": "Search keyword",
            "schema": {
              "type": "string",
              "example": "tai nghe"
            }
          },
          {
            "name": "status",
            "in": "query",
            "optional": true,
            "description": "Filter orders by their status",
            "schema": {
              "type": "integer",
              "enum": [
                1,
                2,
                3,
                4,
                5,
                6,
                7,
                8
              ]
            },
            "example": 3
          },
          {
            "name": "user_id",
            "in": "query",
            "description": "Filter orders by user ID",
            "schema": {
              "type": "integer"
            },
            "example": 1
          },
          {
            "name": "start",
            "in": "query",
            "description": "Order start date (upper bound)",
            "schema": {
              "type": "string",
              "format": "date",
              "example": "2025-01-01"
            }
          },
          {
            "name": "end",
            "in": "query",
            "description": "Order end date (lower bound)",
            "schema": {
              "type": "string",
              "format": "date",
              "example": "2025-12-01"
            }
          },
          {
            "name": "min",
            "in": "query",
            "description": "Order minimum price",
            "schema": {
              "type": "number",
              "format": "float",
              "example": 100
            }
          },
          {
            "name": "max",
            "in": "query",
            "description": "Order maximum price",
            "schema": {
              "type": "number",
              "format": "float",
              "example": 200
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "allOf": [
                            {
                              "$ref": "#/components/schemas/Pagination"
                            },
                            {
                              "type": "object",
                              "properties": {
                                "data": {
                                  "items": {
                                    "$ref": "#/components/schemas/ShortOrder"
                                  }
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      }
    },
    "/admin/orders/{id}": {
      "get": {
        "summary": "Get order details",
        "description": "Retrieve the details of a specific order.",
        "tags": [
          "Order_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Order"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/admin/orders/{id}/status": {
      "get": {
        "summary": "Get the status of a specific order",
        "description": "Retrieve the current status of a specific order.",
        "tags": [
          "Order_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID of the order to retrieve status for",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/OrderStatus"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "put": {
        "summary": "Update the status of a specific order",
        "description": "Update the current status of a specific order.",
        "tags": [
          "Order_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID of the order",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OrderStatus"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/OrderStatus"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/admin/orders/{id}/cancel": {
      "delete": {
        "summary": "Cancel an order",
        "description": "User to cancel an existing order.",
        "tags": [
          "Order_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID of the order to cancel",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/OrderStatus"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/admin/transactions": {
      "get": {
        "summary": "Search transactions for admin",
        "description": "Retrieve a list of transactions based on search criteria.",
        "tags": [
          "Transaction_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/PageParam"
          },
          {
            "$ref": "#/components/parameters/SizeParam"
          },
          {
            "$ref": "#/components/parameters/SortParam"
          },
          {
            "name": "user_id",
            "in": "query",
            "description": "Filter by user ID",
            "schema": {
              "type": "integer",
              "example": 1
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "Filter by transaction status",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "allOf": [
                            {
                              "$ref": "#/components/schemas/Pagination"
                            },
                            {
                              "type": "object",
                              "properties": {
                                "data": {
                                  "type": "array",
                                  "items": {
                                    "$ref": "#/components/schemas/Transaction"
                                  }
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      }
    },
    "/admin/dashboard/overview": {
      "get": {
        "summary": "Get dashboard overview",
        "description": "Retrieve the overview statistics for the dashboard.",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/DashboardOverview"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/admin/dashboard/revenue": {
      "get": {
        "summary": "Ly d liu doanh thu theo thi gian",
        "tags": [
          "Dashboard"
        ],
        "description": "Tr v thng k doanh thu theo ngy, tun, hoc thng.  \nD liu c s dng  hin th biu  doanh thu, s n hng, v doanh thu trung bnh.\n",
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "description": "Khong thi gian thng k (`day`, `week`, `month`)",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "day",
                "week",
                "month"
              ],
              "default": "month"
            },
            "example": "month"
          },
          {
            "name": "year",
            "in": "query",
            "description": "Nm cn thng k (nu period = month)",
            "required": false,
            "schema": {
              "type": "integer",
              "example": 2025
            }
          },
          {
            "name": "month",
            "in": "query",
            "description": "Thng cn thng k (nu period = day)",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 12,
              "example": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/DashboardRevenue"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/admin/dashboard/orders/stats": {
      "get": {
        "summary": "Ly thng k n hng theo trng thi",
        "tags": [
          "Dashboard"
        ],
        "description": "API tr v s lng n hng c nhm theo cc trng thi nh:\n- `pending`\n- `processing`\n- `completed`\n- `cancelled`\n- `refunded`\n\nD liu c s dng  hin th biu  trn hoc biu  thanh trong phn thng k n hng ca Dashboard.\n",
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/DashboardOrdersStats"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/admin/dashboard/products/top": {
      "get": {
        "summary": "Ly danh sch sn phm bn chy nht",
        "tags": [
          "Dashboard"
        ],
        "description": "Tr v danh sch cc sn phm c **doanh s hoc s lng bn cao nht** trong k gn y.\nD liu c dng  hin th bng hoc biu  Top Selling Products trn Dashboard.\n",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "description": "S lng sn phm ti a cn ly (mc nh 5)",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 50,
              "default": 5
            },
            "example": 5
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/DashboardProductTop"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "BearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "schemas": {
      "InfiniteScroll": {
        "type": "object",
        "properties": {
          "limit": {
            "type": "integer",
            "example": 1
          },
          "offset": {
            "type": "integer",
            "example": 1
          },
          "total_count": {
            "type": "integer",
            "example": 2
          },
          "has_more": {
            "type": "boolean",
            "example": false
          },
          "data": {
            "type": "array",
            "items": {
              "type": "object"
            }
          }
        }
      },
      "Pagination": {
        "type": "object",
        "properties": {
          "total_page": {
            "type": "integer",
            "example": 1
          },
          "current_page": {
            "type": "integer",
            "example": 1
          },
          "total_count": {
            "type": "integer",
            "example": 2
          },
          "has_more": {
            "type": "boolean",
            "example": false
          },
          "data": {
            "type": "array",
            "items": {
              "type": "object"
            }
          }
        }
      },
      "ResponseBase": {
        "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
      },
      "AuditFields": {
        "type": "object",
        "properties": {
          "created_at": {
            "type": "string",
            "readOnly": true,
            "format": "date-time",
            "example": "2025-10-30T08:45:12Z",
            "description": "Thi im to"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "readOnly": true,
            "example": "2025-10-30T09:10:34Z",
            "description": "Thi im cp nht gn nht"
          },
          "created_by": {
            "type": "integer",
            "readOnly": true,
            "example": 1,
            "description": "ID ngi to"
          },
          "updated_by": {
            "type": "integer",
            "readOnly": true,
            "example": 1,
            "description": "ID ngi cp nht"
          }
        }
      },
      "Product": {
        "allOf": [
          {
            "$ref": "#/components/schemas/ProductBase"
          },
          {
            "$ref": "#/components/schemas/AuditFields"
          }
        ]
      },
      "ProductPublic": {
        "allOf": [
          {
            "$ref": "#/components/schemas/ProductBase"
          },
          {
            "type": "object",
            "properties": {
              "starts_at": null,
              "published_at": null,
              "meta_title": null,
              "sku": null
            }
          }
        ]
      },
      "ProductBase": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "readOnly": true,
            "example": 1,
            "description": "ID duy nht ca sn phm (t ng sinh)"
          },
          "category_id": {
            "type": "integer",
            "example": 3,
            "description": "ID danh mc m sn phm thuc v"
          },
          "title": {
            "type": "string",
            "example": "Tai nghe Bluetooth Sony WH-1000XM5",
            "description": "Tn sn phm"
          },
          "meta_title": {
            "type": "string",
            "example": "Tai nghe chng n Sony WH-1000XM5 - m thanh nh cao | PinkCapy",
            "description": "Tiu  SEO (hin th trn trnh duyt v kt qu tm kim)"
          },
          "slug": {
            "type": "string",
            "example": "tai-nghe-bluetooth-sony-wh-1000xm5",
            "description": "ng dn thn thin (slug) ca sn phm"
          },
          "thumb": {
            "type": "string",
            "format": "uri",
            "example": "https://cdn.pinkcapy.vn/products/sony-wh1000xm5-thumb.jpg",
            "description": "nh sn phm (ng dn n nh thumbnail)"
          },
          "desc": {
            "type": "string",
            "example": "Sony WH-1000XM5 l th h tai nghe chng n cao cp, pin 30 gi, sc nhanh, Bluetooth 5.2.",
            "description": "M t chi tit sn phm"
          },
          "summary": {
            "type": "string",
            "example": "Tai nghe chng n cao cp, pin 30 gi, m thanh Hi-Res, Bluetooth 5.2",
            "description": "Tm tt ngn gn ni dung m t sn phm"
          },
          "type": {
            "type": "string",
            "example": "headphone",
            "description": "Loi sn phm (v d: smartphone, laptop, headphone, accessory)"
          },
          "sku": {
            "type": "string",
            "example": "WH1000XM5-BLK",
            "description": "M sn phm (SKU - m nh danh ni b duy nht)"
          },
          "price": {
            "type": "string",
            "example": "8990000",
            "description": "Gi bn (n v VN, lu  dng chui  bo ton nh dng)"
          },
          "quantity": {
            "type": "string",
            "readOnly": true,
            "example": "25",
            "description": "S lng tn (s sn phm cn trong kho)"
          },
          "published_at": {
            "type": "string",
            "readOnly": true,
            "format": "date-time",
            "example": "2025-10-30T09:00:00Z",
            "description": "Ngy ng bn (thi im sn phm c cng khai)"
          },
          "status": {
            "type": "integer",
            "readOnly": true,
            "enum": [
              1,
              2,
              3,
              4,
              5
            ],
            "example": 1,
            "description": "Trng thi ca sn phm:\n  - **active** (1): ang hot ng v hin th\n  - **out_of_stock** (2): Ht hng\n  - **inactive** (3): Tm ngng bn\n  - **discontinued** (4): Ngng sn xut\n  - **archive** (5): Lu tr (khng hin th trn website)\n"
          },
          "discount": {
            "type": "float",
            "example": 10,
            "description": "Gim gi (tnh theo phn trm hoc gi tr c th)"
          },
          "starts_at": {
            "type": "string",
            "format": "date-time",
            "example": "2025-10-25T00:00:00Z",
            "description": "Ngy bt u p dng gim gi hoc chng trnh khuyn mi"
          },
          "ends_at": {
            "type": "string",
            "format": "date-time",
            "example": "2025-11-10T23:59:59Z",
            "description": "Ngy kt thc p dng gim gi hoc chng trnh khuyn mi"
          }
        },
        "required": [
          "id",
          "category_id",
          "title",
          "slug",
          "price",
          "quantity",
          "status"
        ]
      },
      "ProductStatus": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "M sn phm",
            "example": 1001
          },
          "status": {
            "type": "integer",
            "enum": [
              1,
              2,
              3,
              4
            ],
            "example": 1,
            "description": "Trng thi ca sn phm:\n  - **active** (1): ang hot ng v hin th\n  - **out_of_stock** (2): Ht hng\n  - **inactive** (3): Tm ngng bn\n  - **discontinued** (4): Ngng sn xut\n"
          }
        },
        "required": [
          "id",
          "status"
        ]
      },
      "ProductAdjustInventory": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "integer",
            "example": 10,
            "description": "Quantity to adjust."
          },
          "operationType": {
            "type": "string",
            "enum": [
              "increase",
              "decrease"
            ],
            "example": "increase",
            "description": "Type of adjustment operation."
          },
          "reason": {
            "type": "string",
            "example": "Restocking after inventory audit",
            "description": "Reason for the inventory adjustment."
          }
        },
        "required": [
          "amount",
          "operationType",
          "reason"
        ]
      },
      "Category": {
        "allOf": [
          {
            "$ref": "#/components/schemas/CategoryBase"
          },
          {
            "$ref": "#/components/schemas/AuditFields"
          }
        ]
      },
      "CategoryPublic": {
        "allOf": [
          {
            "$ref": "#/components/schemas/CategoryBase"
          },
          {
            "type": "object",
            "properties": {
              "meta_title": null
            }
          }
        ]
      },
      "CategoryBase": {
        "type": "object",
        "description": "Danh mc sn phm",
        "properties": {
          "id": {
            "type": "integer",
            "readOnly": true,
            "example": 3,
            "description": "M danh mc"
          },
          "parent_id": {
            "type": "integer",
            "nullable": true,
            "example": 1,
            "description": "M danh mc cha"
          },
          "level": {
            "type": "integer",
            "example": 2,
            "description": "Cp  ca danh mc (v d: 1 = cp cha, 2 = cp con)"
          },
          "title": {
            "type": "string",
            "maxLength": 150,
            "example": "Tai nghe Bluetooth",
            "description": "Tn danh mc hin th"
          },
          "meta_title": {
            "type": "string",
            "maxLength": 150,
            "example": "Tai nghe Bluetooth - m thanh nh cao | PinkCapy",
            "description": "Tiu  SEO cho danh mc"
          },
          "slug": {
            "type": "string",
            "maxLength": 150,
            "example": "tai-nghe-bluetooth",
            "description": "ng dn thn thin"
          },
          "desc": {
            "type": "string",
            "example": "Danh mc cc loi tai nghe khng dy, chng n, pin lu.",
            "description": "M t danh mc"
          }
        },
        "required": [
          "id",
          "title",
          "slug"
        ]
      },
      "Cart": {
        "type": "object",
        "required": [
          "id",
          "total_count",
          "items"
        ],
        "description": "A shopping cart containing items selected by the user",
        "properties": {
          "id": {
            "description": "The unique identifier for the cart",
            "type": "integer",
            "example": 1
          },
          "total_count": {
            "type": "integer",
            "example": 2
          },
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CartItem"
            }
          }
        }
      },
      "CartItem": {
        "type": "object",
        "description": "Chi tit sn phm trong gi hng (Cart Item)",
        "properties": {
          "id": {
            "type": "integer",
            "readOnly": true,
            "example": 101,
            "description": "M chi tit gi hng"
          },
          "cart_id": {
            "type": "integer",
            "example": 5,
            "description": "M gi hng"
          },
          "product_id": {
            "type": "integer",
            "example": 23,
            "description": "M sn phm"
          },
          "is_active": {
            "type": "boolean",
            "example": true,
            "description": "Trng thi hot ng ca item trong gi hng"
          },
          "price": {
            "type": "number",
            "format": "float",
            "example": 8990000,
            "description": "Gi sn phm ti thi im thm vo gi"
          },
          "quantity": {
            "type": "integer",
            "example": 2,
            "description": "S lng sn phm trong gi"
          },
          "discount": {
            "type": "number",
            "format": "float",
            "description": "S tin gim gi p dng cho sn phm",
            "example": 500000
          },
          "note": {
            "type": "string",
            "nullable": true,
            "example": "Gi qu sinh nht",
            "description": "Ghi ch thm ca ngi dng"
          }
        },
        "required": [
          "id",
          "cart_id",
          "product_id",
          "sku",
          "is_active",
          "price",
          "quantity"
        ]
      },
      "EmptyCart": {
        "type": "object",
        "required": [
          "total_count",
          "items"
        ],
        "description": "A shopping cart containing items selected by the user",
        "properties": {
          "total_count": {
            "value": 0,
            "type": "integer"
          },
          "items": {
            "type": "array",
            "items": []
          }
        }
      },
      "AddCartItem": {
        "type": "object",
        "description": "Chi tit sn phm trong gi hng (Cart Item)",
        "required": [
          "product_id",
          "quantity"
        ],
        "properties": {
          "product_id": {
            "type": "integer",
            "example": 23,
            "description": "M sn phm"
          },
          "quantity": {
            "type": "integer",
            "example": 2,
            "description": "S lng sn phm trong gi"
          }
        }
      },
      "UpdateCartItemQuantity": {
        "type": "object",
        "description": "Chi tit sn phm trong gi hng (Cart Item)",
        "required": [
          "quantity"
        ],
        "properties": {
          "quantity": {
            "type": "integer",
            "example": 2,
            "description": "S lng sn phm trong gi"
          }
        }
      },
      "Order": {
        "allOf": [
          {
            "$ref": "#/components/schemas/OrderBase"
          },
          {
            "$ref": "#/components/schemas/AuditFields"
          },
          {
            "type": "object",
            "properties": {
              "items": {
                "type": "array",
                "description": "Danh sch chi tit n hng",
                "items": {
                  "$ref": "#/components/schemas/OrderItemBase"
                }
              }
            }
          }
        ]
      },
      "OrderBase": {
        "type": "object",
        "description": "n hng (Order)",
        "properties": {
          "id": {
            "type": "integer",
            "readOnly": true,
            "description": "M n hng",
            "example": 1001
          },
          "user_id": {
            "type": "integer",
            "description": "M ngi dng",
            "example": 25
          },
          "subtotal": {
            "type": "number",
            "format": "float",
            "description": "Tng tin hng (cha thu, ph)",
            "example": 12990000
          },
          "tax": {
            "type": "number",
            "format": "float",
            "description": "Thu",
            "example": 1299000
          },
          "shipping": {
            "type": "number",
            "format": "float",
            "description": "Ph vn chuyn",
            "example": 30000
          },
          "total": {
            "type": "number",
            "format": "float",
            "description": "Tng cng (subtotal + tax + shipping)",
            "example": 14319000
          },
          "discount_total": {
            "type": "number",
            "format": "float",
            "description": "Tng gim gi",
            "example": 500000
          },
          "promo": {
            "type": "string",
            "maxLength": 255,
            "description": "M khuyn mi p dng",
            "example": "SUMMER2025"
          },
          "discount": {
            "type": "number",
            "format": "float",
            "description": "Gim gi c p dng t m khuyn mi",
            "example": 500000
          },
          "grand_total": {
            "type": "number",
            "format": "float",
            "description": "Thnh tin cui (sau gim gi)",
            "example": 13819000
          },
          "first_name": {
            "type": "string",
            "maxLength": 150,
            "description": "H ngi nhn",
            "example": "Nguyn"
          },
          "middle_name": {
            "type": "string",
            "maxLength": 150,
            "description": "Tn m",
            "example": "Vn"
          },
          "last_name": {
            "type": "string",
            "maxLength": 150,
            "description": "Tn ngi nhn",
            "example": "A"
          },
          "phone": {
            "type": "string",
            "maxLength": 20,
            "description": "S in thoi ngi nhn",
            "example": "0987654321"
          },
          "email": {
            "type": "string",
            "format": "email",
            "maxLength": 100,
            "description": "Email ngi nhn",
            "example": "nguyenvana@example.com"
          },
          "line1": {
            "type": "string",
            "maxLength": 255,
            "description": "a ch 1",
            "example": "123 Nguyn Tri"
          },
          "line2": {
            "type": "string",
            "maxLength": 255,
            "description": "a ch 2 (tu chn)",
            "example": "Phng 4, Qun 5"
          },
          "city": {
            "type": "string",
            "maxLength": 255,
            "description": "Thnh ph",
            "example": "TP. H Ch Minh"
          },
          "province": {
            "type": "string",
            "maxLength": 255,
            "description": "Tnh / Thnh ph",
            "example": "H Ch Minh"
          },
          "country": {
            "type": "string",
            "maxLength": 255,
            "description": "Quc gia",
            "example": "Vit Nam"
          },
          "orders_at": {
            "type": "string",
            "format": "date-time",
            "description": "Thi im t hng",
            "example": "2025-10-31T09:30:00Z"
          },
          "status": {
            "type": "string",
            "enum": [
              1,
              2,
              3,
              4,
              5,
              6,
              7,
              8
            ],
            "description": "Trng thi n hng: - `pending_payment`: Ch thanh ton   - `paid`:  thanh ton   - `processing`: ang x l   - `shipped`:  giao hng cho n v vn chuyn   - `delivered`:  giao thnh cng   - `refunded`:  hon tin   - `returned`: Khch hng tr hng   - `cancelled`:  hy\n",
            "example": "processing"
          },
          "note": {
            "type": "string",
            "maxLength": 255,
            "description": "Ghi ch ca khch hng",
            "example": "Giao bui sng, gi trc khi ti"
          }
        },
        "required": [
          "id",
          "user_id",
          "total",
          "grand_total",
          "status"
        ]
      },
      "ShortOrder": {
        "type": "object",
        "description": "n hng (Order)",
        "properties": {
          "id": {
            "type": "integer",
            "readOnly": true,
            "description": "M n hng (kha chnh)",
            "example": 1001
          },
          "total": {
            "type": "number",
            "format": "float",
            "description": "Tng cng (subtotal + tax + shipping)",
            "example": 14319000
          },
          "grand_total": {
            "type": "number",
            "format": "float",
            "description": "Thnh tin cui (sau gim gi)",
            "example": 13819000
          },
          "status": {
            "type": "string",
            "enum": [
              1,
              2,
              3,
              4,
              5,
              6,
              7,
              8
            ],
            "description": "Trng thi n hng: - `pending_payment`: Ch thanh ton   - `paid`:  thanh ton   - `processing`: ang x l   - `shipped`:  giao hng cho n v vn chuyn   - `delivered`:  giao thnh cng   - `refunded`:  hon tin   - `returned`: Khch hng tr hng   - `cancelled`:  hy\n",
            "example": "paid"
          }
        },
        "required": [
          "id",
          "user_id",
          "total",
          "grand_total",
          "status"
        ]
      },
      "OrderItemBase": {
        "type": "object",
        "description": "Chi tit sn phm trong n hng (Order Item)",
        "properties": {
          "id": {
            "type": "integer",
            "description": "M chi tit n hng",
            "example": 10001
          },
          "order_id": {
            "type": "integer",
            "description": "M n hng",
            "example": 1001
          },
          "product_id": {
            "type": "integer",
            "description": "M sn phm",
            "example": 23
          },
          "sku": {
            "type": "string",
            "maxLength": 150,
            "description": "M SKU ca sn phm",
            "example": "WH1000XM5-BLK"
          },
          "is_active": {
            "type": "boolean",
            "description": "Trng thi hiu lc ca sn phm trong n",
            "example": true
          },
          "price": {
            "type": "number",
            "format": "float",
            "description": "Gi bn ca sn phm ti thi im t hng",
            "example": 8990000
          },
          "quantity": {
            "type": "integer",
            "description": "S lng sn phm",
            "example": 2
          },
          "discount": {
            "type": "number",
            "format": "float",
            "description": "S tin gim gi p dng cho sn phm",
            "example": 500000
          },
          "note": {
            "type": "string",
            "maxLength": 255,
            "nullable": true,
            "description": "Ghi ch cho sn phm trong n (nu c)",
            "example": "Gi qu sinh nht"
          }
        },
        "required": [
          "order_id",
          "product_id",
          "price",
          "quantity"
        ]
      },
      "OrderStatus": {
        "type": "object",
        "description": "Trng thi n hng (Order Status)",
        "properties": {
          "id": {
            "type": "integer",
            "readOnly": true,
            "description": "M n hng",
            "example": 1001
          },
          "status": {
            "type": "integer",
            "enum": [
              1,
              2,
              3,
              4,
              5,
              6,
              7,
              8
            ],
            "description": "Trng thi n hng: - `pending_payment`: Ch thanh ton   - `paid`:  thanh ton   - `processing`: ang x l   - `shipped`:  giao hng cho n v vn chuyn   - `delivered`:  giao thnh cng   - `refunded`:  hon tin   - `returned`: Khch hng tr hng   - `cancelled`:  hy\n",
            "example": "3"
          }
        },
        "required": [
          "id",
          "status"
        ]
      },
      "OrderDelivery": {
        "type": "object",
        "description": "Thng tin giao hng ca n hng",
        "properties": {
          "phone": {
            "type": "string",
            "maxLength": 20,
            "description": "S in thoi ngi nhn",
            "example": "0987654321"
          },
          "line1": {
            "type": "string",
            "maxLength": 255,
            "description": "a ch 1",
            "example": "123 Nguyn Tri"
          },
          "line2": {
            "type": "string",
            "maxLength": 255,
            "description": "a ch 2 (tu chn)",
            "example": "Phng 4, Qun 5"
          },
          "city": {
            "type": "string",
            "maxLength": 255,
            "description": "Thnh ph",
            "example": "TP. H Ch Minh"
          },
          "province": {
            "type": "string",
            "maxLength": 255,
            "description": "Tnh / Thnh ph",
            "example": "H Ch Minh"
          },
          "country": {
            "type": "string",
            "maxLength": 255,
            "description": "Quc gia",
            "example": "Vit Nam"
          },
          "note": {
            "type": "string",
            "maxLength": 255,
            "description": "Ghi ch ca khch hng",
            "example": "Giao bui sng, gi trc khi ti"
          }
        }
      },
      "CreateOrder": {
        "type": "object",
        "description": "n hng (Order)",
        "properties": {
          "promo": {
            "type": "string",
            "maxLength": 255,
            "description": "M khuyn mi p dng",
            "example": "SUMMER2025"
          },
          "note": {
            "type": "string",
            "maxLength": 255,
            "description": "Ghi ch ca khch hng",
            "example": "Giao bui sng, gi trc khi ti"
          },
          "items": {
            "type": "array",
            "description": "Danh sch sn phm trong n hng",
            "items": {
              "type": "integer",
              "description": "ID ca sn phm"
            },
            "example": 1
          }
        },
        "required": [
          "status"
        ]
      },
      "UserOrder": {
        "allOf": [
          {
            "$ref": "#/components/schemas/OrderBase"
          },
          {
            "type": "object",
            "properties": {
              "user_id": null,
              "items": {
                "type": "array",
                "description": "Danh sch sn phm trong n hng",
                "items": {
                  "$ref": "#/components/schemas/UserOrderItem"
                }
              }
            }
          }
        ]
      },
      "UserOrderItem": {
        "type": "object",
        "description": "Chi tit sn phm trong n hng (Order Item)",
        "allOf": [
          {
            "$ref": "#/components/schemas/OrderItemBase"
          },
          {
            "type": "object",
            "properties": {
              "sku": null
            }
          }
        ],
        "required": [
          "order_id",
          "product_id",
          "price",
          "quantity"
        ]
      },
      "Transaction": {
        "type": "object",
        "description": "Giao dch thanh ton hoc hon tin (Transaction)",
        "properties": {
          "id": {
            "type": "integer",
            "description": "M giao dch (kha chnh)",
            "example": 5001
          },
          "order_id": {
            "type": "integer",
            "description": "M n hng lin quan (FK  Order.id)",
            "example": 1001
          },
          "amount": {
            "type": "number",
            "format": "float",
            "description": "S tin giao dch",
            "example": 13819000
          },
          "content": {
            "type": "string",
            "description": "Ni dung hoc ghi ch giao dch (v d: m t thanh ton hoc hon tin)",
            "example": "Thanh ton n hng #1001 qua cng VNPay"
          },
          "code": {
            "type": "string",
            "maxLength": 255,
            "description": "M giao dch (t cng thanh ton hoc h thng ni b)",
            "example": "TXN-VNPAY-20251031-0001"
          },
          "type": {
            "type": "integer",
            "enum": [
              1,
              2
            ],
            "description": "Loi giao dch: - `payment`: Thanh ton   - `refund`: Hon tin\n",
            "example": 1
          },
          "mode": {
            "type": "string",
            "maxLength": 150,
            "description": "Phng thc thanh ton hoc hon tin (v d: VNPay, MoMo, COD, Bank Transfer)",
            "example": "VNPay"
          },
          "status": {
            "type": "integer",
            "enum": [
              1,
              2,
              3,
              4,
              5,
              6
            ],
            "description": "Trng thi giao dch: - `initiated`: Khi to   - `pending`: ang ch x l   - `success`: Thnh cng   - `failed`: Tht bi   - `cancelled`:  hy   - `expired`: Ht hn\n",
            "example": 1
          }
        },
        "required": [
          "id",
          "order_id",
          "amount",
          "type",
          "status"
        ]
      },
      "DashboardOverview": {
        "type": "object",
        "properties": {
          "total_revenue": {
            "type": "number",
            "format": "double",
            "example": 253900000,
            "description": "Tng doanh thu ton h thng"
          },
          "total_orders": {
            "type": "integer",
            "example": 128,
            "description": "Tng s n hng"
          },
          "total_customers": {
            "type": "integer",
            "example": 74,
            "description": "Tng s khch hng"
          },
          "total_products": {
            "type": "integer",
            "example": 312,
            "description": "Tng s sn phm ang bn"
          },
          "today_revenue": {
            "type": "number",
            "format": "double",
            "example": 18900000,
            "description": "Doanh thu trong ngy hin ti"
          },
          "month_revenue": {
            "type": "number",
            "format": "double",
            "example": 203000000,
            "description": "Doanh thu trong thng hin ti"
          },
          "growth_rate": {
            "type": "number",
            "format": "float",
            "example": 12.5,
            "description": "T l tng trng doanh thu so vi k trc (%)"
          }
        },
        "required": [
          "total_revenue",
          "total_orders",
          "total_customers",
          "total_products",
          "today_revenue",
          "month_revenue",
          "growth_rate"
        ]
      },
      "DashboardRevenue": {
        "type": "object",
        "properties": {
          "series": {
            "type": "array",
            "description": "Danh sch d liu doanh thu theo mc thi gian",
            "items": {
              "type": "object",
              "properties": {
                "date": {
                  "type": "string",
                  "format": "date",
                  "example": "2025-10-01",
                  "description": "Ngy hoc mc thi gian"
                },
                "revenue": {
                  "type": "number",
                  "format": "double",
                  "example": 3500000,
                  "description": "Tng doanh thu ti mc thi gian"
                },
                "orders": {
                  "type": "integer",
                  "example": 6,
                  "description": "S lng n hng ti mc thi gian"
                }
              },
              "required": [
                "date",
                "revenue",
                "orders"
              ]
            }
          },
          "summary": {
            "type": "object",
            "properties": {
              "total_revenue": {
                "type": "number",
                "format": "double",
                "example": 203000000,
                "description": "Tng doanh thu trong ton b k"
              },
              "avg_order_value": {
                "type": "number",
                "format": "double",
                "example": 1580000,
                "description": "Gi tr trung bnh mi n hng"
              },
              "top_day": {
                "type": "string",
                "format": "date",
                "example": "2025-10-24",
                "description": "Ngy c doanh thu cao nht"
              }
            },
            "required": [
              "total_revenue",
              "avg_order_value",
              "top_day"
            ]
          }
        }
      },
      "DashboardOrdersStats": {
        "type": "object",
        "description": "Thng k s lng n hng theo trng thi",
        "properties": {
          "pending": {
            "type": "integer",
            "example": 5,
            "description": "S n hng mi to, cha x l"
          },
          "processing": {
            "type": "integer",
            "example": 12,
            "description": "S n hng ang x l hoc chun b giao"
          },
          "completed": {
            "type": "integer",
            "example": 89,
            "description": "S n hng  hon tt"
          },
          "cancelled": {
            "type": "integer",
            "example": 7,
            "description": "S n hng b hy"
          },
          "refunded": {
            "type": "integer",
            "example": 3,
            "description": "S n hng c hon tin"
          }
        },
        "required": [
          "pending",
          "processing",
          "completed",
          "cancelled",
          "refunded"
        ]
      },
      "DashboardProductTop": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "example": 101,
            "description": "ID ca sn phm"
          },
          "title": {
            "type": "string",
            "example": "iPhone 16 Pro Max",
            "description": "Tn sn phm"
          },
          "sku": {
            "type": "string",
            "example": "IPH16PMAX256",
            "description": "M SKU ca sn phm"
          },
          "thumb": {
            "type": "string",
            "format": "uri",
            "example": "https://cdn.pinkcapy.vn/products/iphone16pro-thumb.jpg",
            "description": "nh thumbnail ca sn phm"
          },
          "sold": {
            "type": "integer",
            "example": 74,
            "description": "Tng s lng  bn"
          },
          "revenue": {
            "type": "number",
            "format": "double",
            "example": 2590000000,
            "description": "Tng doanh thu mang li t sn phm"
          },
          "category": {
            "type": "string",
            "example": "Smartphone",
            "description": "Danh mc chnh ca sn phm"
          },
          "status": {
            "type": "string",
            "enum": [
              "draft",
              "published",
              "archived"
            ],
            "example": "published",
            "description": "Trng thi hin th ca sn phm"
          }
        },
        "required": [
          "id",
          "title",
          "sold",
          "revenue"
        ]
      }
    },
    "parameters": {
      "SortParam": {
        "name": "sort",
        "in": "query",
        "required": false,
        "description": "Sort order",
        "schema": {
          "type": "string",
          "format": "<sort_field>:<order>",
          "example": "created_at:desc"
        }
      },
      "AuthorizationHeader": {
        "name": "Authorization",
        "in": "header",
        "required": true,
        "description": "Auth token, ex: `admin` | `customer` | `Bearer <JWT>`",
        "schema": {
          "type": "string",
          "example": "admin"
        }
      },
      "IdempotencyKeyHeader": {
        "name": "Idempotency-Key",
        "in": "header",
        "required": true,
        "description": "Key helper for recognize duplicate request (Idempotent)",
        "schema": {
          "type": "string",
          "example": "oc8tKg1P2FV44hpj"
        }
      },
      "PageParam": {
        "name": "page",
        "in": "query",
        "required": true,
        "description": "Page number to retrieve",
        "default": 1,
        "schema": {
          "type": "integer",
          "example": 1
        }
      },
      "SizeParam": {
        "name": "size",
        "in": "query",
        "required": true,
        "description": "Number of results per page",
        "default": 10,
        "schema": {
          "type": "integer",
          "example": 10
        }
      },
      "OffsetParam": {
        "name": "offset",
        "in": "query",
        "required": true,
        "description": "Currect offset to retrieve",
        "default": 1,
        "schema": {
          "type": "integer",
          "example": 1
        }
      },
      "LimitParam": {
        "name": "limit",
        "in": "query",
        "required": true,
        "description": "Limit number of results",
        "default": 10,
        "schema": {
          "type": "integer",
          "example": 10
        }
      }
    },
    "responses": {
      "BadRequest": {
        "description": "Bad request (400)",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/responses/NotFound/content/application~1json/schema"
            },
            "example": {
              "meta": {
                "code": "400000",
                "type": "BAD_REQUEST",
                "message": "Data invalid or incorrect request.",
                "extra_meta": {}
              },
              "data": null
            }
          }
        }
      },
      "Unauthorized": {
        "description": "Unauthorized (401)",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/responses/NotFound/content/application~1json/schema"
            },
            "example": {
              "meta": {
                "code": "400001",
                "type": "UNAUTHORIZED",
                "message": "User is not authenticated.",
                "extra_meta": {}
              },
              "data": null
            }
          }
        }
      },
      "ValidationError": {
        "description": "Validation error (422)",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/responses/NotFound/content/application~1json/schema"
            },
            "example": {
              "meta": {
                "code": "400002",
                "type": "VALIDATION_ERROR",
                "message": "Data invalid or missing required fields.",
                "extra_meta": {}
              },
              "data": null
            }
          }
        }
      },
      "Forbidden": {
        "description": "Forbidden (403)",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/responses/NotFound/content/application~1json/schema"
            },
            "example": {
              "meta": {
                "code": "400003",
                "type": "FORBIDDEN",
                "message": "User does not have permission to access this resource.",
                "extra_meta": {}
              },
              "data": null
            }
          }
        }
      },
      "NotFound": {
        "description": "Not found (404)",
        "content": {
          "application/json": {
            "schema": {
              "Meta": {
                "type": "object",
                "required": [
                  "code",
                  "type",
                  "message"
                ],
                "properties": {
                  "code": {
                    "type": "string",
                    "example": "200000",
                    "description": "Business code"
                  },
                  "type": {
                    "type": "string",
                    "example": "SUCCESS"
                  },
                  "message": {
                    "type": "string",
                    "example": "Success"
                  },
                  "extra_meta": {
                    "type": "object",
                    "description": "Extra metadata"
                  }
                }
              },
              "Response": {
                "type": "object",
                "required": [
                  "meta",
                  "data"
                ],
                "properties": {
                  "meta": {
                    "$ref": "#/components/responses/NotFound/content/application~1json/schema/Meta"
                  },
                  "data": {
                    "nullable": true,
                    "description": "The data that was returned from the API",
                    "oneOf": [
                      {
                        "type": "object"
                      },
                      {
                        "type": "null"
                      }
                    ]
                  }
                }
              }
            },
            "example": {
              "meta": {
                "code": "400004",
                "type": "NOT_FOUND",
                "message": "Resource not found.",
                "extra_meta": {}
              },
              "data": null
            }
          }
        }
      },
      "Conflict": {
        "description": "Conflict (409)",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/responses/NotFound/content/application~1json/schema"
            },
            "example": {
              "meta": {
                "code": "400009",
                "type": "CONFLICT",
                "message": "Resource already exists.",
                "extra_meta": {}
              },
              "data": null
            }
          }
        }
      },
      "InternalServerError": {
        "description": "Internal server error (500)",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/responses/NotFound/content/application~1json/schema"
            },
            "example": {
              "meta": {
                "code": "500000",
                "type": "INTERNAL_SERVER_ERROR",
                "message": "An unexpected error occurred on the server.",
                "extra_meta": {}
              },
              "data": null
            }
          }
        }
      },
      "NoContent": {
        "description": "No content (204)",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/responses/NotFound/content/application~1json/schema"
            },
            "example": {
              "meta": {
                "code": "200004",
                "type": "NO_CONTENT",
                "message": "No content.",
                "extra_meta": {}
              },
              "data": null
            }
          }
        }
      }
    }
  }
}
