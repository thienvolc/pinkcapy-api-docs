{
  "openapi": "3.1.0",
  "info": {
    "title": "PinkCapy API",
    "version": "1.0.0",
    "description": "API documentation for PinkCapy Retail E-commerce System"
  },
  "servers": [
    {
      "url": "https://pinkcapy.dev/v1",
      "description": "Production server"
    },
    {
      "url": "http://localhost:8000/v1",
      "description": "Local development"
    }
  ],
  "tags": [
    {
      "name": "Product_Public"
    },
    {
      "name": "Product_Admin"
    },
    {
      "name": "Category_Public"
    },
    {
      "name": "Cart"
    },
    {
      "name": "Order_Admin"
    },
    {
      "name": "Transaction"
    },
    {
      "name": "Dashboard"
    }
  ],
  "paths": {
    "/products/{id}": {
      "get": {
        "summary": "Get product",
        "description": "Retrieve a product by its ID.",
        "tags": [
          "Product_Public"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID of the product",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/ProductPublic"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/products/{slug}": {
      "get": {
        "summary": "Get product",
        "description": "Retrieve a product by its slug.",
        "tags": [
          "Product_Public"
        ],
        "parameters": [
          {
            "$ref": "#/paths/~1products~1%7Bid%7D/get/parameters/0"
          },
          {
            "name": "slug",
            "in": "path",
            "required": true,
            "description": "Slug of the product",
            "schema": {
              "type": "string",
              "example": "tai-nghe-1"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/ProductPublic"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/products/{id}/related": {
      "get": {
        "summary": "Get related products",
        "description": "Retrieve a list of products related to the specified product.",
        "tags": [
          "Product_Public"
        ],
        "parameters": [
          {
            "$ref": "#/paths/~1products~1%7Bid%7D/get/parameters/0"
          },
          {
            "$ref": "#/components/parameters/LimitParam"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/ProductPublic"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/products": {
      "get": {
        "summary": "Search products",
        "description": "Retrieve a list of products based on search criteria.",
        "tags": [
          "Product_Public"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/OffsetParam"
          },
          {
            "$ref": "#/components/parameters/LimitParam"
          },
          {
            "$ref": "#/components/parameters/SortParam"
          },
          {
            "name": "query",
            "in": "query",
            "description": "Search keyword",
            "schema": {
              "type": "string",
              "example": "tai nghe"
            }
          },
          {
            "name": "category",
            "in": "query",
            "description": "Category ID of the products",
            "schema": {
              "type": "integer",
              "example": 3
            }
          },
          {
            "name": "price_min",
            "in": "query",
            "description": "Minimum price of the products",
            "schema": {
              "type": "integer",
              "example": 100000
            }
          },
          {
            "name": "price_max",
            "in": "query",
            "description": "Maximum price of the products",
            "schema": {
              "type": "integer",
              "example": 500000
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "allOf": [
                            {
                              "$ref": "#/components/schemas/InfiniteScroll"
                            },
                            {
                              "type": "object",
                              "properties": {
                                "data": {
                                  "items": {
                                    "$ref": "#/components/schemas/ProductPublic"
                                  }
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/admin/products/{id}": {
      "get": {
        "summary": "Get product",
        "description": "Retrieve a product by its ID.",
        "tags": [
          "Product_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID of the product",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "allOf": [
                            {
                              "$ref": "#/components/schemas/Product"
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "put": {
        "summary": "Update a product",
        "description": "Update a product.",
        "tags": [
          "Product_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          },
          {
            "$ref": "#/paths/~1admin~1products~1%7Bid%7D/get/parameters/1"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Product"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Product"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "delete": {
        "summary": "Delete a product",
        "description": "Delete a product.",
        "tags": [
          "Product_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          },
          {
            "$ref": "#/paths/~1admin~1products~1%7Bid%7D/get/parameters/1"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Product"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/admin/products/{id}/metas": {
      "post": {
        "summary": "Create product meta",
        "description": "Create a new product meta.",
        "tags": [
          "Product_Meta_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          },
          {
            "$ref": "#/paths/~1admin~1products~1%7Bid%7D/get/parameters/1"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductMeta"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "allOf": [
                            {
                              "$ref": "#/components/schemas/Product"
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/admin/products/{id}/metas/{meta_id}": {
      "delete": {
        "summary": "Delete a product meta",
        "description": "Delete a product meta.",
        "tags": [
          "Product_Meta_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/paths/~1admin~1products~1%7Bid%7D/get/parameters/1"
          },
          {
            "$ref": "#/paths/~1admin~1products~1%7Bid%7D~1metas~1%7Bmeta_id%7D/put/parameters/2"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "allOf": [
                            {
                              "$ref": "#/components/schemas/ProductMeta"
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "put": {
        "summary": "Update a product meta",
        "description": "Update a product meta.",
        "tags": [
          "Product_Meta_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/paths/~1admin~1products~1%7Bid%7D/get/parameters/1"
          },
          {
            "name": "meta_id",
            "in": "path",
            "required": true,
            "description": "ID of the product meta",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductMeta"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "allOf": [
                            {
                              "$ref": "#/components/schemas/ProductMeta"
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/admin/products/{id}/categories": {
      "put": {
        "summary": "Update categories of a product",
        "description": "Update categories of a product.",
        "tags": [
          "Product_Category_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/paths/~1admin~1products~1%7Bid%7D/get/parameters/1"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "category_ids": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "example": [
                      1,
                      2,
                      3
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "allOf": [
                            {
                              "$ref": "#/components/schemas/Product"
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/admin/products/{id}/tags": {
      "patch": {
        "summary": "Update tags for a product",
        "description": "Update tags for a product.",
        "tags": [
          "Product_Tag_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/paths/~1admin~1products~1%7Bid%7D/get/parameters/1"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "tag_ids": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "example": [
                      1,
                      2,
                      3
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "allOf": [
                            {
                              "type": "object",
                              "properties": {
                                "product_id": {
                                  "type": "integer",
                                  "example": 1
                                },
                                "tags": {
                                  "type": "array",
                                  "items": {
                                    "$ref": "#/components/schemas/Tag"
                                  }
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/admin/products/{id}/status": {
      "patch": {
        "summary": "Update a product status",
        "description": "Update a product status.",
        "tags": [
          "Product_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          },
          {
            "$ref": "#/paths/~1admin~1products~1%7Bid%7D/get/parameters/1"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProductStatusRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/UpdateProductStatusRequest"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/admin/products": {
      "post": {
        "summary": "Create a new product",
        "description": "Create a new product.",
        "tags": [
          "Product_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Product"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Product"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "get": {
        "summary": "Search products",
        "description": "Retrieve a list of products based on search criteria.",
        "tags": [
          "Product_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/PageParam"
          },
          {
            "$ref": "#/components/parameters/SizeParam"
          },
          {
            "$ref": "#/components/parameters/SortParam"
          },
          {
            "name": "query",
            "in": "query",
            "description": "Search keyword",
            "schema": {
              "type": "string",
              "example": "tai nghe"
            }
          },
          {
            "name": "category",
            "in": "query",
            "description": "Category ID of the products",
            "schema": {
              "type": "integer",
              "example": 3
            }
          },
          {
            "name": "price_min",
            "in": "query",
            "description": "Minimum price of the products",
            "schema": {
              "type": "integer",
              "example": 100000
            }
          },
          {
            "name": "price_max",
            "in": "query",
            "description": "Maximum price of the products",
            "schema": {
              "type": "integer",
              "example": 500000
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "allOf": [
                            {
                              "$ref": "#/components/schemas/Pagination"
                            },
                            {
                              "type": "object",
                              "properties": {
                                "data": {
                                  "type": "array",
                                  "items": {
                                    "$ref": "#/components/schemas/Product"
                                  }
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/admin/products/{id}/inventories": {
      "patch": {
        "summary": "Update a product stock",
        "description": "Admin to update an stock of product.",
        "tags": [
          "Product_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          },
          {
            "$ref": "#/paths/~1admin~1products~1%7Bid%7D/get/parameters/1"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductAdjustInventory"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Product"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/admin/tags": {
      "get": {
        "summary": "Get all tags",
        "description": "Retrieve a list of all tags.",
        "tags": [
          "Tag_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/OffsetParam"
          },
          {
            "$ref": "#/components/parameters/LimitParam"
          },
          {
            "$ref": "#/components/parameters/SortParam"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "allOf": [
                            {
                              "$ref": "#/components/schemas/InfiniteScroll"
                            },
                            {
                              "type": "object",
                              "properties": {
                                "data": {
                                  "type": "array",
                                  "items": {
                                    "$ref": "#/components/schemas/Tag"
                                  }
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create a new tag",
        "description": "Create a new tag.",
        "tags": [
          "Tag_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Tag"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Tag"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/admin/tags/{id}": {
      "delete": {
        "summary": "Delete a tag",
        "description": "Delete a tag.",
        "tags": [
          "Tag_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/paths/~1admin~1tags~1%7Bid%7D/put/parameters/1"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Tag"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "put": {
        "summary": "Update a tag",
        "description": "Update a tag.",
        "tags": [
          "Tag_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID of the tag",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Tag"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Tag"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/categories": {
      "get": {
        "summary": "Search categories",
        "description": "Retrieve a list of categories.",
        "tags": [
          "Category_Public"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/OffsetParam"
          },
          {
            "$ref": "#/components/parameters/LimitParam"
          },
          {
            "$ref": "#/components/parameters/SortParam"
          },
          {
            "name": "query",
            "in": "query",
            "description": "Search keyword",
            "schema": {
              "type": "string",
              "example": "tai nghe"
            }
          },
          {
            "name": "level",
            "in": "query",
            "required": true,
            "description": "Level of categories to retrieve",
            "default": 1,
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/CategoryPublicHierarchy"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/categories/{slug}": {
      "get": {
        "summary": "Get category",
        "description": "Retrieve a category by its slug.",
        "tags": [
          "Category_Public"
        ],
        "parameters": [
          {
            "name": "slug",
            "in": "path",
            "required": true,
            "description": "Slug of the category to retrieve",
            "schema": {
              "type": "string",
              "example": "tai-nghe"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/CategoryPublicHierarchy"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/categories/{slug}/products": {
      "get": {
        "summary": "Get products by category slug",
        "description": "Retrieve a list of products belonging to a category by its slug.",
        "tags": [
          "Category_Public"
        ],
        "parameters": [
          {
            "$ref": "#/paths/~1categories~1%7Bslug%7D/get/parameters/0"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "allOf": [
                            {
                              "$ref": "#/components/schemas/InfiniteScroll"
                            },
                            {
                              "type": "object",
                              "properties": {
                                "data": {
                                  "type": "array",
                                  "items": {
                                    "$ref": "#/components/schemas/ProductPublic"
                                  }
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/admin/categories/{id}": {
      "get": {
        "summary": "Get category for admin",
        "description": "Retrieve a category by its ID for admin.",
        "tags": [
          "Category_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID of the category to retrieve",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/CategoryHierarchy"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "put": {
        "summary": "Update a category",
        "description": "Admin to update an existing category in the system.",
        "tags": [
          "Category_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          },
          {
            "$ref": "#/paths/~1admin~1categories~1%7Bid%7D/get/parameters/1"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCategoryRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/CategoryHierarchy"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "delete": {
        "summary": "Delete a category",
        "description": "Admin to delete an existing category in the system.",
        "tags": [
          "Category_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          },
          {
            "$ref": "#/paths/~1admin~1categories~1%7Bid%7D/get/parameters/1"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/CategoryHierarchy"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/admin/categories": {
      "post": {
        "summary": "Create a category",
        "description": "Admin to add a new category to the system.",
        "tags": [
          "Category_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/UpdateCategoryRequest"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/CategoryHierarchy"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          }
        }
      },
      "get": {
        "summary": "Search categories for admin",
        "description": "Retrieve a list of categories.",
        "tags": [
          "Category_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/PageParam"
          },
          {
            "$ref": "#/components/parameters/SizeParam"
          },
          {
            "$ref": "#/components/parameters/SortParam"
          },
          {
            "name": "level",
            "in": "query",
            "required": true,
            "description": "Level of categories to retrieve",
            "default": 1,
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "allOf": [
                            {
                              "$ref": "#/components/schemas/Pagination"
                            },
                            {
                              "type": "object",
                              "properties": {
                                "data": {
                                  "items": {
                                    "$ref": "#/components/schemas/CategoryHierarchy"
                                  }
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/me/carts": {
      "get": {
        "summary": "Get current user cart",
        "description": "Retrieve the current user's cart.",
        "tags": [
          "Cart"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Cart"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          }
        }
      }
    },
    "/me/carts/items": {
      "post": {
        "summary": "Add item to cart",
        "description": "Add a new item to the user's cart.",
        "tags": [
          "Cart"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddToCartRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/CartItem"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          }
        }
      }
    },
    "/me/carts/items/{id}": {
      "patch": {
        "summary": "Update a cart item",
        "description": "Update an existing item in the user's cart.",
        "tags": [
          "Cart"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID of the cart item to update",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCartItemQuantityRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/CartItem"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "delete": {
        "summary": "Delete a cart item",
        "description": "User to delete an existing cart item in user's cart.",
        "tags": [
          "Cart"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          },
          {
            "$ref": "#/paths/~1me~1carts~1items~1%7Bid%7D/patch/parameters/2"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/CartItem"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/me/carts/clear": {
      "delete": {
        "summary": "Clear all cart items in user's cart",
        "description": "User to clear all cart items in user's cart.",
        "tags": [
          "Cart"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/EmptyCart"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/me/orders": {
      "get": {
        "summary": "Get user orders history",
        "description": "Retrieve a list of the user's past orders.",
        "tags": [
          "Order"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "name": "status",
            "in": "query",
            "optional": true,
            "description": "Filter orders by their status",
            "schema": {
              "type": "integer",
              "enum": [
                1,
                2,
                3,
                4,
                5,
                6,
                7,
                8
              ]
            },
            "example": 3
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "allOf": [
                            {
                              "$ref": "#/components/schemas/InfiniteScroll"
                            },
                            {
                              "type": "object",
                              "properties": {
                                "data": {
                                  "items": {
                                    "$ref": "#/components/schemas/ShortOrder"
                                  }
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          }
        }
      },
      "post": {
        "summary": "Create a order",
        "description": "Create a new order.",
        "tags": [
          "Order"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PlaceOrderRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Order"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          }
        }
      }
    },
    "/me/orders/{id}": {
      "get": {
        "summary": "Get order details",
        "description": "Retrieve the details of a specific order.",
        "tags": [
          "Order"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID of the order",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Order"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/me/orders/{id}/status": {
      "get": {
        "summary": "Get the status of a specific order",
        "description": "Retrieve the current status of a specific order.",
        "tags": [
          "Order"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/paths/~1me~1orders~1%7Bid%7D/get/parameters/1"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Order"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/me/orders/{id}/delivery": {
      "patch": {
        "summary": "Update a order delivery information",
        "description": "Update delivery information for a specific order.",
        "tags": [
          "Order"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          },
          {
            "$ref": "#/paths/~1me~1orders~1%7Bid%7D/get/parameters/1"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateOrderDeliveryRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Order"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/me/orders/{id}/cancel": {
      "delete": {
        "summary": "Cancel an order",
        "description": "User to cancel an existing order.",
        "tags": [
          "Order"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          },
          {
            "$ref": "#/paths/~1me~1orders~1%7Bid%7D/get/parameters/1"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/UpdateOrderStatusRequest"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/admin/orders": {
      "get": {
        "summary": "Search user orders for admin",
        "description": "Retrieve a list of the user's past orders.",
        "tags": [
          "Order_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/PageParam"
          },
          {
            "$ref": "#/components/parameters/SizeParam"
          },
          {
            "$ref": "#/components/parameters/SortParam"
          },
          {
            "name": "query",
            "in": "query",
            "description": "Search keyword",
            "schema": {
              "type": "string",
              "example": "tai nghe"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "Filter orders by their status - `1`: Pending payment - `2`: Paid - `3`: Processing - `4`: Shipped - `5`: Delivered - `6`: Refunded - `7`: Returned - `8`: Cancelled\n",
            "schema": {
              "type": "integer",
              "enum": [
                1,
                2,
                3,
                4,
                5,
                6,
                7,
                8
              ]
            },
            "example": 3
          },
          {
            "name": "user_id",
            "in": "query",
            "description": "Filter orders by user ID",
            "schema": {
              "type": "integer"
            },
            "example": 1
          },
          {
            "name": "start",
            "in": "query",
            "description": "Order start date (upper bound)",
            "schema": {
              "type": "string",
              "format": "date",
              "example": "2025-01-01"
            }
          },
          {
            "name": "end",
            "in": "query",
            "description": "Order end date (lower bound)",
            "schema": {
              "type": "string",
              "format": "date",
              "example": "2025-12-01"
            }
          },
          {
            "name": "min",
            "in": "query",
            "description": "Order minimum price",
            "schema": {
              "type": "number",
              "format": "float",
              "example": 100
            }
          },
          {
            "name": "max",
            "in": "query",
            "description": "Order maximum price",
            "schema": {
              "type": "number",
              "format": "float",
              "example": 200
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "allOf": [
                            {
                              "$ref": "#/components/schemas/Pagination"
                            },
                            {
                              "type": "object",
                              "properties": {
                                "data": {
                                  "items": {
                                    "$ref": "#/components/schemas/ShortOrder"
                                  }
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          }
        }
      }
    },
    "/admin/orders/{id}": {
      "get": {
        "summary": "Get order details",
        "description": "Retrieve the details of a specific order.",
        "tags": [
          "Order_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID of the order",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Order"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/admin/orders/{id}/status": {
      "get": {
        "summary": "Get the status of a specific order",
        "description": "Retrieve the current status of a specific order.",
        "tags": [
          "Order_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/paths/~1admin~1orders~1%7Bid%7D/get/parameters/1"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/UpdateOrderStatusRequest"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "put": {
        "summary": "Update the status of a specific order",
        "description": "Update the current status of a specific order.",
        "tags": [
          "Order_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          },
          {
            "$ref": "#/paths/~1admin~1orders~1%7Bid%7D/get/parameters/1"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateOrderStatusRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/UpdateOrderStatusRequest"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/admin/orders/{id}/cancel": {
      "delete": {
        "summary": "Cancel an order",
        "description": "User to cancel an existing order.",
        "tags": [
          "Order_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          },
          {
            "$ref": "#/paths/~1admin~1orders~1%7Bid%7D/get/parameters/1"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/UpdateOrderStatusRequest"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/admin/transactions": {
      "get": {
        "summary": "Search transactions for admin",
        "description": "Retrieve a list of transactions based on search criteria.",
        "tags": [
          "Transaction_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/PageParam"
          },
          {
            "$ref": "#/components/parameters/SizeParam"
          },
          {
            "$ref": "#/components/parameters/SortParam"
          },
          {
            "name": "user_id",
            "in": "query",
            "description": "Filter by user ID",
            "schema": {
              "type": "integer",
              "example": 1
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "Filter by transaction status",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "allOf": [
                            {
                              "$ref": "#/components/schemas/Pagination"
                            },
                            {
                              "type": "object",
                              "properties": {
                                "data": {
                                  "type": "array",
                                  "items": {
                                    "$ref": "#/components/schemas/Transaction"
                                  }
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/me/profile": {
      "get": {
        "summary": "Get current user",
        "description": "Retrieve the current user information.",
        "tags": [
          "User"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/UserProfile"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update a user profile",
        "description": "Admin to update an existing user in the system.",
        "tags": [
          "User_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserProfile"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/UserProfile"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/admin/users": {
      "post": {
        "summary": "Create a new user",
        "description": "Admin to add a new user to the system.",
        "tags": [
          "User_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/UserAdmin"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "get": {
        "summary": "Search users for admin",
        "description": "Retrieve a list of users based on search criteria.",
        "tags": [
          "User_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/PageParam"
          },
          {
            "$ref": "#/components/parameters/SizeParam"
          },
          {
            "$ref": "#/components/parameters/SortParam"
          },
          {
            "name": "query",
            "in": "query",
            "description": "Search keyword",
            "schema": {
              "type": "string",
              "example": "tai nghe"
            }
          },
          {
            "name": "is_admin",
            "in": "query",
            "description": "Filter by admin status",
            "schema": {
              "type": "boolean",
              "example": true
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "Filter by user status",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "allOf": [
                            {
                              "$ref": "#/components/schemas/Pagination"
                            },
                            {
                              "type": "object",
                              "properties": {
                                "data": {
                                  "type": "array",
                                  "items": {
                                    "$ref": "#/components/schemas/UserAdmin"
                                  }
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/admin/users/{id}/profile": {
      "get": {
        "summary": "Get user for admin",
        "description": "Retrieve a user by its ID for admin.",
        "tags": [
          "User_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID of the product to retrieve",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/UserProfileAdmin"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/admin/users/{id}/status": {
      "patch": {
        "summary": "Update a user status",
        "description": "Admin to update a status of an existing user in the system.",
        "tags": [
          "User_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          },
          {
            "$ref": "#/paths/~1admin~1users~1%7Bid%7D~1profile/get/parameters/1"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserStatusRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/UpdateUserStatusRequest"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "delete": {
        "summary": "Delete a user",
        "description": "Admin to delete an existing user in the system.",
        "tags": [
          "User_Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          },
          {
            "$ref": "#/components/parameters/IdempotencyKeyHeader"
          },
          {
            "$ref": "#/paths/~1admin~1users~1%7Bid%7D~1profile/get/parameters/1"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/UserAdmin"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/admin/dashboard/overview": {
      "get": {
        "summary": "Get dashboard overview",
        "description": "Retrieve the overview statistics for the dashboard.",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AuthorizationHeader"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/DashboardOverview"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/admin/dashboard/revenue": {
      "get": {
        "summary": "Statistics of revenue",
        "tags": [
          "Dashboard"
        ],
        "description": "Return revenue statistics by day, week, or month.\nData is used to display revenue charts, order counts, and average revenue.\n",
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "description": "The period (`day`, `week`, `month`)",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "day",
                "week",
                "month"
              ],
              "default": "month"
            },
            "example": "month"
          },
          {
            "name": "year",
            "in": "query",
            "description": "The year to filter (if period = month)",
            "required": false,
            "schema": {
              "type": "integer",
              "example": 2025
            }
          },
          {
            "name": "month",
            "in": "query",
            "description": "The month to filter (if period = day)",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 12,
              "example": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/DashboardRevenue"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/admin/dashboard/orders/stats": {
      "get": {
        "summary": "Get order statistics by status",
        "tags": [
          "Dashboard"
        ],
        "description": "API returns the number of orders grouped by statuses such as:\n- `pending`\n- `processing`\n- `completed`\n- `cancelled`\n- `refunded`\nData is used to display pie charts or bar charts in the order statistics section of the Dashboard.\n",
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/DashboardOrdersStats"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/admin/dashboard/products/top": {
      "get": {
        "summary": "Get top selling products",
        "tags": [
          "Dashboard"
        ],
        "description": "API returns a list of products with **sales or quantity sold** in the last year.\nData is used to display the \"Top Selling Products\" table or chart on the Dashboard.\n",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "description": "Maximum number of products to retrieve (default is 5)",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 50,
              "default": 5
            },
            "example": 5
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/DashboardProductTop"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "BearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "schemas": {
      "InfiniteScroll": {
        "type": "object",
        "properties": {
          "limit": {
            "type": "integer",
            "example": 1
          },
          "offset": {
            "type": "integer",
            "example": 1
          },
          "total_count": {
            "type": "integer",
            "example": 2
          },
          "has_more": {
            "type": "boolean",
            "example": false
          },
          "data": {
            "type": "array",
            "items": {
              "type": "object"
            }
          }
        }
      },
      "Pagination": {
        "type": "object",
        "properties": {
          "total_page": {
            "type": "integer",
            "example": 1
          },
          "current_page": {
            "type": "integer",
            "example": 1
          },
          "total_count": {
            "type": "integer",
            "example": 2
          },
          "has_more": {
            "type": "boolean",
            "example": false
          },
          "data": {
            "type": "array",
            "items": {
              "type": "object"
            }
          }
        }
      },
      "ResponseBase": {
        "$ref": "#/components/responses/NotFound/content/application~1json/schema/Response"
      },
      "AuditFields": {
        "type": "object",
        "properties": {
          "created_at": {
            "type": "string",
            "readOnly": true,
            "format": "date-time",
            "example": "2025-10-30T08:45:12Z",
            "description": "Thi im to"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "readOnly": true,
            "example": "2025-10-30T09:10:34Z",
            "description": "Thi im cp nht gn nht"
          },
          "created_by": {
            "type": "integer",
            "readOnly": true,
            "example": 1,
            "description": "ID ngi to"
          },
          "updated_by": {
            "type": "integer",
            "readOnly": true,
            "example": 1,
            "description": "ID ngi cp nht"
          }
        }
      },
      "Product": {
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/ProductBase"
          },
          {
            "$ref": "#/components/schemas/AuditFields"
          },
          {
            "$ref": "#/components/schemas/ProductExtra"
          }
        ]
      },
      "ProductExtra": {
        "type": "object",
        "properties": {
          "categories": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "integer",
                  "example": 1
                },
                "title": {
                  "type": "string",
                  "example": "Tai nghe"
                },
                "slug": {
                  "type": "string",
                  "example": "tai-nghe"
                }
              }
            }
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "integer",
                  "example": 1
                },
                "name": {
                  "type": "string",
                  "example": "Hot_Trend"
                },
                "slug": {
                  "type": "string",
                  "example": "hot-trend"
                }
              }
            }
          },
          "meta": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "key": {
                  "type": "string",
                  "example": "color"
                },
                "content": {
                  "type": "string",
                  "example": "red"
                }
              }
            }
          }
        }
      },
      "ProductPublic": {
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/ProductBase"
          },
          {
            "type": "object",
            "properties": {
              "starts_at": null,
              "published_at": null,
              "meta_title": null,
              "sku": null
            }
          },
          {
            "$ref": "#/components/schemas/ProductExtra"
          }
        ]
      },
      "ProductBase": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "readOnly": true,
            "example": 1,
            "description": "ID duy nht ca sn phm (t ng sinh)"
          },
          "category_id": {
            "type": "integer",
            "example": 3,
            "description": "ID danh mc m sn phm thuc v"
          },
          "title": {
            "type": "string",
            "example": "Tai nghe Bluetooth Sony WH-1000XM5",
            "description": "Tn sn phm"
          },
          "meta_title": {
            "type": "string",
            "example": "Tai nghe chng n Sony WH-1000XM5 - m thanh nh cao | PinkCapy",
            "description": "Tiu  SEO (hin th trn trnh duyt v kt qu tm kim)"
          },
          "slug": {
            "type": "string",
            "example": "tai-nghe-bluetooth-sony-wh-1000xm5",
            "description": "ng dn thn thin (slug) ca sn phm"
          },
          "thumb": {
            "type": "string",
            "format": "uri",
            "example": "https://cdn.pinkcapy.vn/products/sony-wh1000xm5-thumb.jpg",
            "description": "nh sn phm (ng dn n nh thumbnail)"
          },
          "desc": {
            "type": "string",
            "example": "Sony WH-1000XM5 l th h tai nghe chng n cao cp, pin 30 gi, sc nhanh, Bluetooth 5.2.",
            "description": "M t chi tit sn phm"
          },
          "summary": {
            "type": "string",
            "example": "Tai nghe chng n cao cp, pin 30 gi, m thanh Hi-Res, Bluetooth 5.2",
            "description": "Tm tt ngn gn ni dung m t sn phm"
          },
          "type": {
            "type": "string",
            "example": "headphone",
            "description": "Loi sn phm (v d: smartphone, laptop, headphone, accessory)"
          },
          "sku": {
            "type": "string",
            "example": "WH1000XM5-BLK",
            "description": "M sn phm (SKU - m nh danh ni b duy nht)"
          },
          "price": {
            "type": "string",
            "example": "8990000",
            "description": "Gi bn (n v VN, lu  dng chui  bo ton nh dng)"
          },
          "quantity": {
            "type": "string",
            "readOnly": true,
            "example": "25",
            "description": "S lng tn (s sn phm cn trong kho)"
          },
          "published_at": {
            "type": "string",
            "readOnly": true,
            "format": "date-time",
            "example": "2025-10-30T09:00:00Z",
            "description": "Ngy ng bn (thi im sn phm c cng khai)"
          },
          "status": {
            "type": "integer",
            "readOnly": true,
            "enum": [
              1,
              2,
              3,
              4,
              5
            ],
            "example": 1,
            "description": "Trng thi ca sn phm:\n  - **active** (1): ang hot ng v hin th\n  - **out_of_stock** (2): Ht hng\n  - **inactive** (3): Tm ngng bn\n  - **discontinued** (4): Ngng sn xut\n  - **archive** (5): Lu tr (khng hin th trn website)\n"
          },
          "discount": {
            "type": "float",
            "example": 10,
            "description": "Gim gi (tnh theo phn trm hoc gi tr c th)"
          },
          "starts_at": {
            "type": "string",
            "format": "date-time",
            "example": "2025-10-25T00:00:00Z",
            "description": "Ngy bt u p dng gim gi hoc chng trnh khuyn mi"
          },
          "ends_at": {
            "type": "string",
            "format": "date-time",
            "example": "2025-11-10T23:59:59Z",
            "description": "Ngy kt thc p dng gim gi hoc chng trnh khuyn mi"
          }
        },
        "required": [
          "id",
          "category_id",
          "title",
          "slug",
          "price",
          "quantity",
          "status"
        ]
      },
      "UpdateProductStatusRequest": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "M sn phm",
            "example": 1001
          },
          "status": {
            "type": "integer",
            "enum": [
              1,
              2,
              3,
              4
            ],
            "example": 1,
            "description": "Trng thi ca sn phm:\n  - **active** (1): ang hot ng v hin th\n  - **out_of_stock** (2): Ht hng\n  - **inactive** (3): Tm ngng bn\n  - **discontinued** (4): Ngng sn xut\n"
          }
        },
        "required": [
          "id",
          "status"
        ]
      },
      "ProductAdjustInventory": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "integer",
            "example": 10,
            "description": "Quantity to adjust."
          },
          "operationType": {
            "type": "string",
            "enum": [
              "increase",
              "decrease"
            ],
            "example": "increase",
            "description": "Type of adjustment operation."
          },
          "reason": {
            "type": "string",
            "example": "Restocking after inventory audit",
            "description": "Reason for the inventory adjustment."
          }
        },
        "required": [
          "amount",
          "operationType",
          "reason"
        ]
      },
      "ProductMeta": {
        "type": "object",
        "description": "Thuc tnh chi tit ca sn phm (Product Attribute)",
        "properties": {
          "id": {
            "type": "integer",
            "readOnly": true,
            "description": "M thuc tnh",
            "example": 1
          },
          "product_id": {
            "type": "integer",
            "readOnly": true,
            "description": "M sn phm",
            "example": 101
          },
          "key": {
            "type": "string",
            "maxLength": 150,
            "description": "Tn thuc tnh",
            "example": "Mu sc"
          },
          "content": {
            "type": "string",
            "description": "Gi tr ca thuc tnh",
            "example": "en nhm"
          }
        },
        "required": [
          "product_id",
          "key",
          "content"
        ]
      },
      "Tag": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "readOnly": true,
            "example": 1,
            "description": "Tag ID"
          },
          "title": {
            "type": "string",
            "maxLength": 150,
            "example": "Ph kin in t",
            "description": "Tn th"
          },
          "meta_title": {
            "type": "string",
            "maxLength": 150,
            "example": "Ph kin in t chnh hng gi tt",
            "description": "Tiu  SEO"
          },
          "slug": {
            "type": "string",
            "maxLength": 150,
            "example": "phu-kien-dien-tu",
            "description": "ng dn thn thin"
          },
          "desc": {
            "type": "string",
            "example": "Tng hp cc sn phm ph kin in t cht lng cao.",
            "description": "M t th"
          }
        },
        "required": [
          "title",
          "slug"
        ]
      },
      "Category": {
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/CategoryBase"
          },
          {
            "$ref": "#/components/schemas/AuditFields"
          }
        ]
      },
      "CategoryPublic": {
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/CategoryBase"
          },
          {
            "type": "object",
            "properties": {
              "meta_title": null
            }
          }
        ]
      },
      "CategoryBase": {
        "type": "object",
        "description": "Danh mc sn phm",
        "properties": {
          "id": {
            "type": "integer",
            "readOnly": true,
            "example": 3,
            "description": "M danh mc"
          },
          "parent_id": {
            "type": "integer",
            "nullable": true,
            "example": 1,
            "description": "M danh mc cha"
          },
          "level": {
            "type": "integer",
            "example": 2,
            "description": "Cp  ca danh mc (v d: 1 = cp cha, 2 = cp con)"
          },
          "title": {
            "type": "string",
            "maxLength": 150,
            "example": "Tai nghe Bluetooth",
            "description": "Tn danh mc hin th"
          },
          "meta_title": {
            "type": "string",
            "maxLength": 150,
            "example": "Tai nghe Bluetooth - m thanh nh cao | PinkCapy",
            "description": "Tiu  SEO cho danh mc"
          },
          "slug": {
            "type": "string",
            "maxLength": 150,
            "example": "tai-nghe-bluetooth",
            "description": "ng dn thn thin"
          },
          "desc": {
            "type": "string",
            "example": "Danh mc cc loi tai nghe khng dy, chng n, pin lu.",
            "description": "M t danh mc"
          }
        },
        "required": [
          "id",
          "title",
          "slug"
        ]
      },
      "CategoryPublicHierarchy": {
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/CategoryPublic"
          },
          {
            "type": "object",
            "properties": {
              "children": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/CategoryPublic"
                }
              }
            }
          }
        ]
      },
      "CategoryHierarchy": {
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/Category"
          },
          {
            "type": "object",
            "properties": {
              "children": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Category"
                }
              }
            }
          }
        ]
      },
      "UpdateCategoryRequest": {
        "allOf": [
          {
            "$ref": "#/components/schemas/Category"
          },
          {
            "type": "object",
            "properties": {
              "children": {
                "example": [
                  1,
                  2,
                  3
                ],
                "type": "array",
                "items": {
                  "type": "integer"
                }
              }
            }
          }
        ]
      },
      "Cart": {
        "type": "object",
        "description": "A shopping cart containing items selected by the user",
        "properties": {
          "id": {
            "description": "Cart ID",
            "type": "integer",
            "example": 1
          },
          "total_count": {
            "description": "Total number of items in the cart",
            "type": "integer",
            "example": 2
          },
          "items": {
            "type": "array",
            "description": "List of items in the cart",
            "items": {
              "$ref": "#/components/schemas/CartItem"
            }
          }
        },
        "required": [
          "id",
          "total_count",
          "items"
        ]
      },
      "CartItem": {
        "type": "object",
        "description": "Cart item detail",
        "properties": {
          "id": {
            "type": "integer",
            "readOnly": true,
            "example": 101,
            "description": "Cart item ID"
          },
          "cart_id": {
            "type": "integer",
            "example": 5,
            "description": "Cart ID"
          },
          "product_id": {
            "type": "integer",
            "example": 23,
            "description": "Product ID"
          },
          "is_active": {
            "type": "boolean",
            "example": true,
            "description": "Item active status in cart"
          },
          "price": {
            "type": "number",
            "format": "float",
            "example": 8990000,
            "description": "Product price at the time of adding to cart"
          },
          "quantity": {
            "type": "integer",
            "example": 2,
            "description": "Product quantity in cart"
          },
          "discount": {
            "type": "number",
            "format": "float",
            "description": "Discount amount applied to product",
            "example": 500000
          },
          "note": {
            "type": "string",
            "nullable": true,
            "example": "Gi qu sinh nht",
            "description": "User additional notes"
          }
        },
        "required": [
          "id",
          "cart_id",
          "product_id",
          "sku",
          "is_active",
          "price",
          "quantity"
        ]
      },
      "EmptyCart": {
        "type": "object",
        "description": "A cart containing items selected by the user",
        "properties": {
          "total_count": {
            "description": "The number of items in the cart",
            "type": "integer",
            "example": 0
          },
          "items": {
            "type": "array",
            "example": []
          }
        },
        "required": [
          "total_count",
          "items"
        ]
      },
      "AddToCartRequest": {
        "type": "object",
        "description": "Add item to cart request",
        "required": [
          "product_id",
          "quantity"
        ],
        "properties": {
          "product_id": {
            "type": "integer",
            "example": 23,
            "description": "Product ID"
          },
          "quantity": {
            "type": "integer",
            "example": 2,
            "description": "Product quantity in cart"
          }
        }
      },
      "UpdateCartItemQuantityRequest": {
        "type": "object",
        "description": "Update cart item quantity request",
        "properties": {
          "quantity": {
            "type": "integer",
            "description": "The new quantity for the cart item.",
            "example": 2,
            "minimum": 1
          }
        },
        "required": [
          "quantity"
        ]
      },
      "Order": {
        "allOf": [
          {
            "$ref": "#/components/schemas/OrderBase"
          },
          {
            "$ref": "#/components/schemas/AuditFields"
          },
          {
            "type": "object",
            "properties": {
              "items": {
                "type": "array",
                "description": "List of order items",
                "items": {
                  "$ref": "#/components/schemas/OrderItemBase"
                }
              }
            }
          }
        ]
      },
      "OrderBase": {
        "type": "object",
        "description": "Order Base",
        "properties": {
          "id": {
            "type": "integer",
            "readOnly": true,
            "description": "Order id",
            "example": 1001
          },
          "user_id": {
            "type": "integer",
            "description": "User id",
            "example": 25
          },
          "subtotal": {
            "type": "number",
            "format": "float",
            "description": "Total amount not include tax, shipping",
            "example": 12990000
          },
          "tax": {
            "type": "number",
            "format": "float",
            "description": "Tax",
            "example": 1299000
          },
          "shipping": {
            "type": "number",
            "format": "float",
            "description": "Shippign fee",
            "example": 30000
          },
          "total": {
            "type": "number",
            "format": "float",
            "description": "Total amount (subtotal + tax + shipping)",
            "example": 14319000
          },
          "discount_total": {
            "type": "number",
            "format": "float",
            "description": "Total discount amount",
            "example": 500000
          },
          "promo": {
            "type": "string",
            "maxLength": 255,
            "description": "Promo code applied for this order",
            "example": "SUMMER2025"
          },
          "discount": {
            "type": "number",
            "format": "float",
            "description": "Discount amount applied by promo",
            "example": 500000
          },
          "grand_total": {
            "type": "number",
            "format": "float",
            "description": "The final total amount (applied promo)",
            "example": 13819000
          },
          "first_name": {
            "type": "string",
            "maxLength": 150,
            "description": "First name of receiver",
            "example": "Nguyn"
          },
          "middle_name": {
            "type": "string",
            "maxLength": 150,
            "description": "Middle name of receiver (optional)",
            "example": "Vn"
          },
          "last_name": {
            "type": "string",
            "maxLength": 150,
            "description": "Last name of receiver",
            "example": "A"
          },
          "phone": {
            "type": "string",
            "maxLength": 20,
            "description": "Phone number of receiver",
            "example": "0987654321"
          },
          "email": {
            "type": "string",
            "format": "email",
            "maxLength": 100,
            "description": "Email of receiver",
            "example": "nguyenvana@example.com"
          },
          "line1": {
            "type": "string",
            "maxLength": 255,
            "description": "Address line 1",
            "example": "123 Nguyn Tri"
          },
          "line2": {
            "type": "string",
            "maxLength": 255,
            "description": "Address line 2 (optional)",
            "example": "Phng 4, Qun 5"
          },
          "city": {
            "type": "string",
            "maxLength": 255,
            "description": "City",
            "example": "TP. H Ch Minh"
          },
          "province": {
            "type": "string",
            "maxLength": 255,
            "description": "Province / City",
            "example": "H Ch Minh"
          },
          "country": {
            "type": "string",
            "maxLength": 255,
            "description": "Country",
            "example": "Vit Nam"
          },
          "orders_at": {
            "type": "string",
            "format": "date-time",
            "description": "Order placed at timestamp",
            "example": "2025-10-31T09:30:00Z"
          },
          "status": {
            "type": "integer",
            "enum": [
              1,
              2,
              3,
              4,
              5,
              6,
              7,
              8
            ],
            "description": "Order status: - `1`: Pending payment - `2`: Paid - `3`: Processing - `4`: Shipped - `5`: Delivered - `6`: Refunded - `7`: Returned - `8`: Cancelled\n",
            "example": 3
          },
          "note": {
            "type": "string",
            "maxLength": 255,
            "description": "Note for the order",
            "example": "Giao bui sng, gi trc khi ti"
          }
        },
        "required": [
          "id",
          "user_id",
          "total",
          "grand_total",
          "status"
        ]
      },
      "ShortOrder": {
        "type": "object",
        "description": "Short view of an order",
        "allOf": [
          {
            "$ref": "#/components/schemas/OrderBase"
          },
          {
            "type": "object",
            "properties": {
              "user_id": null,
              "subtotal": null,
              "tax": null,
              "shipping": null,
              "discount_total": null,
              "promo": null,
              "discount": null,
              "first_name": null,
              "middle_name": null,
              "last_name": null,
              "email": null,
              "phone": null,
              "line1": null,
              "line2": null,
              "city": null,
              "province": null,
              "country": null,
              "orders_at": null,
              "note": null
            }
          }
        ],
        "required": [
          "id",
          "total",
          "grand_total",
          "status"
        ]
      },
      "OrderItemBase": {
        "type": "object",
        "description": "Order Item",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Order item id",
            "example": 10001
          },
          "order_id": {
            "type": "integer",
            "description": "Order id",
            "example": 1001
          },
          "product_id": {
            "type": "integer",
            "description": "Product id",
            "example": 23
          },
          "sku": {
            "type": "string",
            "maxLength": 150,
            "description": "SKU code of the product",
            "example": "WH1000XM5-BLK"
          },
          "is_active": {
            "type": "boolean",
            "description": "Activation status of the product in the order",
            "example": true
          },
          "price": {
            "type": "number",
            "format": "float",
            "description": "Selling price of the product at the time of order",
            "example": 8990000
          },
          "quantity": {
            "type": "integer",
            "description": "Quantity of the product",
            "example": 2
          },
          "discount": {
            "type": "number",
            "format": "float",
            "description": "Discount amount applied to the product",
            "example": 500000
          },
          "note": {
            "type": "string",
            "maxLength": 255,
            "nullable": true,
            "description": "Note for the product in the order (if any)",
            "example": "Gi qu sinh nht"
          }
        },
        "required": [
          "order_id",
          "product_id",
          "price",
          "quantity"
        ]
      },
      "UpdateOrderStatusRequest": {
        "type": "object",
        "description": "Order status dto",
        "properties": {
          "id": {
            "type": "integer",
            "readOnly": true,
            "description": "Order ID",
            "example": 1001
          },
          "status": {
            "type": "integer",
            "enum": [
              1,
              2,
              3,
              4,
              5,
              6,
              7,
              8
            ],
            "description": "Order status: - `1`: Pending payment - `2`: Paid - `3`: Processing - `4`: Shipped - `5`: Delivered - `6`: Refunded - `7`: Returned - `8`: Cancelled\n",
            "example": 3
          }
        },
        "required": [
          "id",
          "status"
        ]
      },
      "UpdateOrderDeliveryRequest": {
        "type": "object",
        "description": "Update order delievery request",
        "properties": {
          "phone": {
            "type": "string",
            "maxLength": 20,
            "description": "Phone number of receiver",
            "example": "0987654321"
          },
          "email": {
            "type": "string",
            "format": "email",
            "maxLength": 100,
            "description": "Email of receiver",
            "example": "nguyenvana@example.com"
          },
          "line1": {
            "type": "string",
            "maxLength": 255,
            "description": "Address line 1",
            "example": "123 Nguyn Tri"
          },
          "line2": {
            "type": "string",
            "maxLength": 255,
            "description": "Address line 2 (optional)",
            "example": "Phng 4, Qun 5"
          },
          "city": {
            "type": "string",
            "maxLength": 255,
            "description": "City",
            "example": "TP. H Ch Minh"
          },
          "province": {
            "type": "string",
            "maxLength": 255,
            "description": "Province / City",
            "example": "H Ch Minh"
          },
          "country": {
            "type": "string",
            "maxLength": 255,
            "description": "Country",
            "example": "Vit Nam"
          },
          "note": {
            "type": "string",
            "maxLength": 255,
            "description": "Note for the order",
            "example": "Giao bui sng, gi trc khi ti"
          }
        }
      },
      "PlaceOrderRequest": {
        "type": "object",
        "description": "Place order request",
        "properties": {
          "promo": {
            "type": "string",
            "maxLength": 255,
            "description": "Promo code applied for this order",
            "example": "SUMMER2025"
          },
          "note": {
            "type": "string",
            "maxLength": 255,
            "description": "Note for the order",
            "example": "Giao bui sng, gi trc khi ti"
          },
          "items": {
            "type": "array",
            "description": "List of product ids to order",
            "items": {
              "type": "integer",
              "description": "Product id"
            },
            "example": [
              101,
              102,
              103
            ]
          }
        },
        "required": [
          "items"
        ]
      },
      "UserOrder": {
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/OrderBase"
          },
          {
            "type": "object",
            "properties": {
              "user_id": null,
              "items": {
                "type": "array",
                "description": "List of order items",
                "items": {
                  "$ref": "#/components/schemas/UserOrderItem"
                }
              }
            }
          }
        ]
      },
      "UserOrderItem": {
        "type": "object",
        "description": "Order item of a user order.",
        "allOf": [
          {
            "$ref": "#/components/schemas/OrderItemBase"
          },
          {
            "type": "object",
            "properties": {
              "sku": null
            }
          }
        ],
        "required": [
          "order_id",
          "product_id",
          "price",
          "quantity"
        ]
      },
      "Transaction": {
        "type": "object",
        "description": "Transaction of an order, representing payment or refund activities.",
        "allOf": [
          {
            "$ref": "#/components/schemas/AuditFields"
          },
          {
            "type": "object",
            "properties": {
              "id": {
                "type": "integer",
                "description": "Transaction ID",
                "example": 5001
              },
              "order_id": {
                "type": "integer",
                "description": "Related order ID",
                "example": 1001
              },
              "amount": {
                "type": "number",
                "format": "float",
                "description": "Transaction amount",
                "example": 13819000
              },
              "content": {
                "type": "string",
                "description": "Content or note of the transaction (e.g., payment or refund description)",
                "example": "Payment for order #1001 via VNPay"
              },
              "code": {
                "type": "string",
                "maxLength": 255,
                "description": "Transaction ref (from payment gateway or internal system)",
                "example": "TXN-VNPAY-20251031-0001"
              },
              "type": {
                "type": "integer",
                "enum": [
                  1,
                  2
                ],
                "description": "Type of transaction: - `1`: Pay action - `2`: Refund action\n",
                "example": 1
              },
              "mode": {
                "type": "string",
                "maxLength": 150,
                "description": "Payment or refund method (e.g., VNPay, MoMo, COD, Bank Transfer)",
                "example": "VNPay"
              },
              "status": {
                "type": "integer",
                "enum": [
                  1,
                  2,
                  3,
                  4,
                  5,
                  6
                ],
                "description": "Transaction status: - `1`: Initiated   - `2`: Pending payment   - `3`: Successful - `4`: Failed - `5`: Cancelled - `6`: Expired\n",
                "example": 1
              }
            }
          }
        ],
        "required": [
          "id",
          "order_id",
          "amount",
          "type",
          "status"
        ]
      },
      "User": {
        "type": "object",
        "description": "User",
        "properties": {
          "id": {
            "type": "integer",
            "readOnly": true,
            "description": "User id",
            "example": 1
          },
          "email": {
            "type": "string",
            "format": "email",
            "maxLength": 100,
            "description": "Email of the user",
            "example": "user@example.com"
          },
          "phone": {
            "type": "string",
            "maxLength": 20,
            "description": "Phone number of the user",
            "example": "0987654321"
          },
          "is_admin": {
            "type": "boolean",
            "readOnly": true,
            "description": "Admin rights (true = admin, false = regular user)",
            "example": false
          },
          "status": {
            "type": "integer",
            "readOnly": true,
            "enum": [
              1,
              2,
              3,
              4
            ],
            "description": "Status of the user: - `1`: active   - `2`: inactive - `3`: suspend - `4`: banned\n",
            "example": 1
          }
        },
        "required": [
          "id",
          "email",
          "status"
        ]
      },
      "UserProfile": {
        "allOf": [
          {
            "$ref": "#/components/schemas/UserProfileBase"
          },
          {
            "$ref": "#/components/schemas/User"
          }
        ]
      },
      "UserProfileBase": {
        "type": "object",
        "description": "User Profile",
        "properties": {
          "first_name": {
            "type": "string",
            "maxLength": 150,
            "description": "First name of the user",
            "example": "Nguyn"
          },
          "middle_name": {
            "type": "string",
            "maxLength": 150,
            "nullable": true,
            "description": "Middle name of the user",
            "example": "Vn"
          },
          "last_name": {
            "type": "string",
            "maxLength": 150,
            "description": "Last name of the user",
            "example": "A"
          },
          "avatar": {
            "type": "string",
            "maxLength": 255,
            "format": "uri",
            "description": "URL of the user avatar image",
            "example": "https://cdn.pinkcapy.vn/avatars/user1.jpg"
          },
          "profile": {
            "type": "string",
            "description": "Introduction or biography of the user",
            "example": "Loves technology, enjoys music, and exploring new products."
          },
          "registered_at": {
            "type": "string",
            "format": "date-time",
            "readOnly": true,
            "description": "Time when the user registered their account",
            "example": "2025-01-15T08:30:00Z"
          },
          "last_login": {
            "type": "string",
            "format": "date-time",
            "readOnly": true,
            "nullable": true,
            "description": "Time of the users last login",
            "example": "2025-10-31T09:00:00Z"
          }
        },
        "required": [
          "first_name",
          "last_name",
          "registered_at"
        ]
      },
      "UserAdmin": {
        "allOf": [
          {
            "$ref": "#/components/schemas/User"
          },
          {
            "$ref": "#/components/schemas/AuditFields"
          }
        ]
      },
      "UserProfileAdmin": {
        "allOf": [
          {
            "$ref": "#/components/schemas/UserAdmin"
          },
          {
            "$ref": "#/components/schemas/UserProfileBase"
          }
        ]
      },
      "CreateUserRequest": {
        "type": "object",
        "required": [
          "email",
          "password"
        ],
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "example": "6A5o1@example.com",
            "description": "User email address"
          },
          "phone": {
            "type": "string"
          },
          "password": {
            "type": "string",
            "format": "password",
            "example": "StrongP@ssw0rd!",
            "description": "User password"
          }
        }
      },
      "UpdateUserStatusRequest": {
        "type": "object",
        "description": "User status dto",
        "properties": {
          "id": {
            "type": "integer",
            "readOnly": true,
            "description": "id of user",
            "example": 1
          },
          "status": {
            "type": "integer",
            "readOnly": true,
            "enum": [
              1,
              2,
              3,
              4
            ],
            "description": "Status of the user: - `1`: active   - `2`: inactive - `3`: suspend - `4`: banned\n",
            "example": 1
          }
        },
        "required": [
          "id",
          "status"
        ]
      },
      "DashboardOverview": {
        "type": "object",
        "description": "Overview profit of the entire system",
        "properties": {
          "total_revenue": {
            "type": "number",
            "format": "double",
            "example": 253900000,
            "description": "Total revenue of the system"
          },
          "total_orders": {
            "type": "integer",
            "example": 128,
            "description": "Total number of orders"
          },
          "total_customers": {
            "type": "integer",
            "example": 74,
            "description": "Total number of customers"
          },
          "total_products": {
            "type": "integer",
            "example": 312,
            "description": "Total number of products available for sale"
          },
          "today_revenue": {
            "type": "number",
            "format": "double",
            "example": 18900000,
            "description": "Total revenue for today"
          },
          "month_revenue": {
            "type": "number",
            "format": "double",
            "example": 203000000,
            "description": "Total revenue for the current month"
          },
          "growth_rate": {
            "type": "number",
            "format": "float",
            "example": 12.5,
            "description": "Revenue growth rate compared to the previous period (%)"
          }
        },
        "required": [
          "total_revenue",
          "total_orders",
          "total_customers",
          "total_products",
          "today_revenue",
          "month_revenue",
          "growth_rate"
        ]
      },
      "DashboardRevenue": {
        "type": "object",
        "properties": {
          "series": {
            "type": "array",
            "description": "Revenue data over time",
            "items": {
              "type": "object",
              "properties": {
                "date": {
                  "type": "string",
                  "format": "date",
                  "example": "2025-10-01",
                  "description": "Revenue at specific date"
                },
                "revenue": {
                  "type": "number",
                  "format": "double",
                  "example": 3500000,
                  "description": "Revenue at specific date"
                },
                "orders": {
                  "type": "integer",
                  "example": 6,
                  "description": "Number of orders at specific date"
                }
              },
              "required": [
                "date",
                "revenue",
                "orders"
              ]
            }
          },
          "summary": {
            "type": "object",
            "properties": {
              "total_revenue": {
                "type": "number",
                "format": "double",
                "example": 203000000,
                "description": "Total revenue in the selected period"
              },
              "avg_order_value": {
                "type": "number",
                "format": "double",
                "example": 1580000,
                "description": "Average order value"
              },
              "top_day": {
                "type": "string",
                "format": "date",
                "example": "2025-10-24",
                "description": "Day with the highest revenue"
              }
            },
            "required": [
              "total_revenue",
              "avg_order_value",
              "top_day"
            ]
          }
        }
      },
      "DashboardOrdersStats": {
        "type": "object",
        "description": "Order statistics about different statuses",
        "properties": {
          "pending": {
            "type": "integer",
            "example": 5,
            "description": "Number of newly created orders that are not yet processed"
          },
          "processing": {
            "type": "integer",
            "example": 12,
            "description": "Number of orders being processed or prepared for delivery"
          },
          "completed": {
            "type": "integer",
            "example": 89,
            "description": "Number of completed orders"
          },
          "cancelled": {
            "type": "integer",
            "example": 7,
            "description": "Number of cancelled orders"
          },
          "refunded": {
            "type": "integer",
            "example": 3,
            "description": "Number of refunded orders"
          }
        },
        "required": [
          "pending",
          "processing",
          "completed",
          "cancelled",
          "refunded"
        ]
      },
      "DashboardProductTop": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "example": 101,
            "description": "Product id"
          },
          "title": {
            "type": "string",
            "example": "iPhone 16 Pro Max",
            "description": "Product name"
          },
          "sku": {
            "type": "string",
            "example": "IPH16PMAX256",
            "description": "Product SKU"
          },
          "thumb": {
            "type": "string",
            "format": "uri",
            "example": "https://cdn.pinkcapy.vn/products/iphone16pro-thumb.jpg",
            "description": "Product thumbnail image"
          },
          "sold": {
            "type": "integer",
            "example": 74,
            "description": "Total quantity sold"
          },
          "revenue": {
            "type": "number",
            "format": "double",
            "example": 2590000000,
            "description": "Total revenue generated from the product"
          },
          "category": {
            "type": "string",
            "example": "Smartphone",
            "description": "Main category of the product"
          },
          "status": {
            "type": "string",
            "enum": [
              "draft",
              "published",
              "archived"
            ],
            "example": "published",
            "description": "Product display status"
          }
        },
        "required": [
          "id",
          "title",
          "sold",
          "revenue"
        ]
      }
    },
    "parameters": {
      "SortParam": {
        "name": "sort",
        "in": "query",
        "required": false,
        "description": "Sort order",
        "schema": {
          "type": "string",
          "format": "<sort_field>:<order>",
          "example": "created_at:desc"
        }
      },
      "AuthorizationHeader": {
        "name": "Authorization",
        "in": "header",
        "required": true,
        "description": "Auth token, ex: `admin` | `customer` | `Bearer <JWT>`",
        "schema": {
          "type": "string",
          "example": "admin"
        }
      },
      "IdempotencyKeyHeader": {
        "name": "Idempotency-Key",
        "in": "header",
        "required": true,
        "description": "Key helper for recognize duplicate request (Idempotent)",
        "schema": {
          "type": "string",
          "example": "oc8tKg1P2FV44hpj"
        }
      },
      "PageParam": {
        "name": "page",
        "in": "query",
        "required": true,
        "description": "Page number to retrieve",
        "default": 1,
        "schema": {
          "type": "integer",
          "example": 1
        }
      },
      "SizeParam": {
        "name": "size",
        "in": "query",
        "required": true,
        "description": "Number of results per page",
        "default": 10,
        "schema": {
          "type": "integer",
          "example": 10
        }
      },
      "OffsetParam": {
        "name": "offset",
        "in": "query",
        "required": true,
        "description": "Currect offset to retrieve",
        "default": 1,
        "schema": {
          "type": "integer",
          "example": 1
        }
      },
      "LimitParam": {
        "name": "limit",
        "in": "query",
        "required": true,
        "description": "Limit number of results",
        "default": 10,
        "schema": {
          "type": "integer",
          "example": 10
        }
      }
    },
    "responses": {
      "BadRequest": {
        "description": "Bad request (400)",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/responses/NotFound/content/application~1json/schema"
            },
            "example": {
              "meta": {
                "code": "400000",
                "type": "BAD_REQUEST",
                "message": "Data invalid or incorrect request.",
                "extra_meta": {}
              },
              "data": null
            }
          }
        }
      },
      "Unauthorized": {
        "description": "Unauthorized (401)",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/responses/NotFound/content/application~1json/schema"
            },
            "example": {
              "meta": {
                "code": "400001",
                "type": "UNAUTHORIZED",
                "message": "User is not authenticated.",
                "extra_meta": {}
              },
              "data": null
            }
          }
        }
      },
      "ValidationError": {
        "description": "Validation error (422)",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/responses/NotFound/content/application~1json/schema"
            },
            "example": {
              "meta": {
                "code": "400002",
                "type": "VALIDATION_ERROR",
                "message": "Data invalid or missing required fields.",
                "extra_meta": {}
              },
              "data": null
            }
          }
        }
      },
      "Forbidden": {
        "description": "Forbidden (403)",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/responses/NotFound/content/application~1json/schema"
            },
            "example": {
              "meta": {
                "code": "400003",
                "type": "FORBIDDEN",
                "message": "User does not have permission to access this resource.",
                "extra_meta": {}
              },
              "data": null
            }
          }
        }
      },
      "NotFound": {
        "description": "Not found (404)",
        "content": {
          "application/json": {
            "schema": {
              "Meta": {
                "type": "object",
                "required": [
                  "code",
                  "type",
                  "message"
                ],
                "properties": {
                  "code": {
                    "type": "string",
                    "example": "200000",
                    "description": "Business code"
                  },
                  "type": {
                    "type": "string",
                    "example": "SUCCESS"
                  },
                  "message": {
                    "type": "string",
                    "example": "Success"
                  },
                  "extra_meta": {
                    "type": "object",
                    "description": "Extra metadata"
                  }
                }
              },
              "Response": {
                "type": "object",
                "required": [
                  "meta",
                  "data"
                ],
                "properties": {
                  "meta": {
                    "$ref": "#/components/responses/NotFound/content/application~1json/schema/Meta"
                  },
                  "data": {
                    "nullable": true,
                    "description": "The data that was returned from the API",
                    "oneOf": [
                      {
                        "type": "object"
                      },
                      {
                        "type": "null"
                      }
                    ]
                  }
                }
              }
            },
            "example": {
              "meta": {
                "code": "400004",
                "type": "NOT_FOUND",
                "message": "Resource not found.",
                "extra_meta": {}
              },
              "data": null
            }
          }
        }
      },
      "Conflict": {
        "description": "Conflict (409)",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/responses/NotFound/content/application~1json/schema"
            },
            "example": {
              "meta": {
                "code": "400009",
                "type": "CONFLICT",
                "message": "Resource already exists.",
                "extra_meta": {}
              },
              "data": null
            }
          }
        }
      },
      "InternalServerError": {
        "description": "Internal server error (500)",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/responses/NotFound/content/application~1json/schema"
            },
            "example": {
              "meta": {
                "code": "500000",
                "type": "INTERNAL_SERVER_ERROR",
                "message": "An unexpected error occurred on the server.",
                "extra_meta": {}
              },
              "data": null
            }
          }
        }
      },
      "NoContent": {
        "description": "No content (204)",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/responses/NotFound/content/application~1json/schema"
            },
            "example": {
              "meta": {
                "code": "200004",
                "type": "NO_CONTENT",
                "message": "No content.",
                "extra_meta": {}
              },
              "data": null
            }
          }
        }
      }
    }
  }
}
